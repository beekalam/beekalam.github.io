<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-03-21 Tue 21:00 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ubuntu</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Mohammad Reza Mansouri" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="css/main.css" />
<script src="js/ganalytics.js" async></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">ubuntu</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org53e89e9">network</a>
<ul>
<li><a href="#org4f1644b">config</a></li>
<li><a href="#org665228b"><code>resolve.conf</code> DNS config</a></li>
<li><a href="#orgc0087d0">put wireless card in monitor mode</a></li>
<li><a href="#org8f4c4e5">add bridges to tor</a></li>
<li><a href="#org94f3fb4">use privoxy to http over socks</a></li>
<li><a href="#org192d746">network open sockets by program name?</a></li>
<li><a href="#org6badf82">bandwidth usage by program name?</a></li>
<li><a href="#org166e0bb">static route</a></li>
<li><a href="#org784d539">nmcli</a></li>
</ul>
</li>
<li><a href="#org3ffd698">ssh</a>
<ul>
<li><a href="#orgfc94837">installation</a></li>
<li><a href="#org50f394e">ssh escape sequences</a></li>
</ul>
</li>
<li><a href="#org1b2a50e">vmware</a>
<ul>
<li><a href="#org443e65a">start virtual machine in background</a></li>
</ul>
</li>
<li><a href="#orgfff6978">Misc</a>
<ul>
<li><a href="#org0400c8e">remap caps lock to ctrl</a></li>
<li><a href="#orga36ca36">how to tell which version of library you have?</a></li>
<li><a href="#org4a47a98">time</a>
<ul>
<li><a href="#orgc3f2f2c">sync time</a></li>
<li><a href="#org7fd0302">change CPU affinity for a process</a></li>
</ul>
</li>
<li><a href="#org90d5f2f">recoll</a></li>
</ul>
</li>
<li><a href="#org5207c1d">groups</a>
<ul>
<li>
<ul>
<li><a href="#orgb7a24ba">Add a New Group</a></li>
<li><a href="#org2aaf8a3">Add an Existing User to a Group</a></li>
<li><a href="#org47ea03b">Change a User’s Primary Group</a></li>
<li><a href="#org01701e0">View a User’s Group Assignments</a></li>
<li><a href="#orgacd2f39">View a List of All Groups</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org305b73a">file</a>
<ul>
<li><a href="#org1398dbf">convert cue disk image to iso format?</a></li>
<li><a href="#org2d390ff">show recently modified/created files?</a></li>
<li><a href="#org7430a79">empty a log file</a></li>
<li><a href="#orgecb26bd">searching</a>
<ul>
<li><a href="#org65952c3">Find</a></li>
<li><a href="#org4c24e3a">locate</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgabf28c4">php</a></li>
<li><a href="#org1ed75c8">wget</a>
<ul>
<li><a href="#org1bbc593">ignore robots.txt</a></li>
<li><a href="#org5de3a03">get the size of file before downloading</a></li>
<li><a href="#orgfe9bfdd">wget download with proxy</a></li>
</ul>
</li>
<li><a href="#org7533476">System</a>
<ul>
<li><a href="#org1ced91e">Running kernel and system information:</a></li>
<li><a href="#org1fff0d4">Hardware Informations:</a></li>
<li><a href="#org269910f">Load, statistics and messages:</a>
<ul>
<li><a href="#orgc98dd23">Users</a></li>
<li><a href="#orge70b648">Kernel modules</a></li>
<li><a href="#orgc9a4e38">Compile Kernel</a></li>
</ul>
</li>
<li><a href="#orgdccda58">processes</a></li>
<li><a href="#orgbd858ce">Signals/Kill</a></li>
<li><a href="#org044ca1c">Permissions</a></li>
<li><a href="#org8f52222">Create a memory file system</a></li>
<li><a href="#orgef22ec3">Disk performance</a></li>
<li><a href="#org6165ca5">Networking</a></li>
<li><a href="#orga4b3670">Ports in use</a></li>
<li><a href="#orgd0418cb">Firewall</a></li>
<li><a href="#orgd69f831">IP Forward for routing</a></li>
<li><a href="#org88b76b5">DNS</a></li>
<li><a href="#org8713071">DHCP</a></li>
<li><a href="#org37bac69">tar</a>
<ul>
<li><a href="#org95b96d5">Create</a></li>
<li><a href="#org11b45cb">Extract</a></li>
<li><a href="#org9160fa6">More advanced</a></li>
</ul>
</li>
<li><a href="#orgb1053e6">Miscellaneous</a></li>
<li><a href="#org81ffcf8">Add/Remove software</a></li>
</ul>
</li>
<li><a href="#orge9e1ba0">git</a>
<ul>
<li><a href="#org45e9982">add a remote</a></li>
<li><a href="#org44ec045">Clone git repository without history?</a></li>
<li><a href="#org2dcf0c6">ignore files in a directory</a></li>
<li><a href="#org19dc4e2">add a remote to current repository</a></li>
<li><a href="#org13f731b">git fails when pushing commit to github</a></li>
<li><a href="#org754acc0">clone only a branch</a></li>
</ul>
</li>
<li><a href="#org9bd4bb1">font</a>
<ul>
<li><a href="#orgc92a541">rebuild font cache</a></li>
<li><a href="#orgb5e706a">install <code>source code pro</code></a></li>
</ul>
</li>
<li><a href="#org7d813fe">gnome</a>
<ul>
<li><a href="#org91a0cb1">Ubuntu Gnome - force alt + tab to only switch on current workspace</a></li>
</ul>
</li>
<li><a href="#orga951d82">disk</a>
<ul>
<li><a href="#org844882a">partition a disk</a></li>
<li><a href="#org07542f6">list partitions</a></li>
<li><a href="#org7cf426f">make partitions</a></li>
<li><a href="#orgb8bd826">format a partition</a></li>
<li><a href="#org08420d7">make a swap partition</a></li>
<li><a href="#org069ebdd">auto mount a partition</a></li>
<li><a href="#org4306245">find UUID of a filesystem</a></li>
</ul>
</li>
<li><a href="#orgd736c28">shell</a>
<ul>
<li><a href="#orge007453">login shell vs non-login shell?</a>
<ul>
<li><a href="#org4e4cc5c">How to check if the shell is a login shell?</a></li>
<li><a href="#orga0cc174">bash login shell startup?</a></li>
<li><a href="#org018364c">bash non-login shell initilization?</a></li>
</ul>
</li>
<li><a href="#org4ba9a59">change history size?</a></li>
<li><a href="#org5892eff">adding to path to <code>$PATH</code> envrionment variable</a></li>
</ul>
</li>
<li><a href="#orgfd860a5">Toolchain</a>
<ul>
<li><a href="#orgc9fef6f">Linker</a>
<ul>
<li><a href="#org4f6311d">dynamic linker, often referred to as dynamic loader vs standard linker <b>ld</b></a></li>
<li><a href="#org5db126f">Linker search path</a></li>
<li><a href="#org5c2fb4b">To find out which standard linker gcc will use, run:</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org3a8f935">Text processing</a>
<ul>
<li><a href="#org80d115e">cut</a>
<ul>
<li><a href="#org9574cac">example inputs</a></li>
<li><a href="#org6a0068d">Write a unix/linux cut command to print characters by position?</a></li>
<li><a href="#org952771d">Write a unix/linux cut command to print characters by range?</a></li>
<li><a href="#orga3ea664">print the first six characters in a line</a></li>
<li><a href="#org97e9754">To print the characters from tenth position to the end</a></li>
<li><a href="#org18d29b2">Write a unix/linux cut command to print the fields using the delimiter?</a></li>
<li><a href="#org3fe1b89">prints the second and third field in each line.</a></li>
<li><a href="#orgc12eb02">Write a unix/linux cut command to display range of fields?</a></li>
<li><a href="#orged10ac9">cut by new line?</a></li>
</ul>
</li>
<li><a href="#orgbcaafa2">tr</a>
<ul>
<li><a href="#org346d496">Replace multiple spaces with one using 'tr' only</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org3753e34">processes</a>
<ul>
<li><a href="#orgb549a01">checking the priority of a process?</a></li>
<li><a href="#org9f5d563">Setting priority on new processes</a></li>
<li><a href="#orga3381d4">Setting Priority on Existing Processes</a></li>
<li><a href="#org2ca586e">Setting Permanent Priority on all Processes for a Specific User</a></li>
</ul>
</li>
<li><a href="#orgd0b8a24">tor</a>
<ul>
<li><a href="#orgba506bb">change ip</a></li>
</ul>
</li>
<li><a href="#orgbf9182a">multimedia</a>
<ul>
<li><a href="#org2d5321a">convert avi to mp4</a></li>
</ul>
</li>
<li><a href="#orgc0bdd38">syslog</a>
<ul>
<li><a href="#org50e8ef7">debugging</a></li>
</ul>
</li>
<li><a href="#org75d0b63">number crunching</a>
<ul>
<li><a href="#org9d7aa92">using bc to show control the number of digits after the decimal point?</a></li>
</ul>
</li>
<li><a href="#org1ca685d">make a ramdisk?</a></li>
<li><a href="#org673533b">curl</a>
<ul>
<li><a href="#orgc651cf5">Fetching a Page with cURL</a></li>
<li><a href="#orgef40843">Fetching Many Variations on a URL</a></li>
<li><a href="#org2f5f3c9">Following Redirects Automatically</a></li>
<li><a href="#org509a260">send cookie with curl?</a></li>
<li><a href="#orgef595e1">make an options request</a></li>
<li><a href="#org2147300">make a head request</a></li>
<li><a href="#org68f29ce">make an options request</a></li>
<li><a href="#org45f8c13">set a header</a></li>
<li><a href="#orgd04d9f8">post request</a>
<ul>
<li><a href="#orge2bc925">links</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgb8c61a5">grub</a>
<ul>
<li><a href="#orgfce28fa">grub change timeout</a></li>
<li><a href="#orgaec7ccb">Repair grub</a></li>
</ul>
</li>
<li><a href="#org2c5c367">listing broken packages?</a></li>
<li><a href="#orgb4cc118">completely remove a package with configurations</a></li>
<li><a href="#org5baa767">deleting broken packages?</a></li>
<li><a href="#org84e3e1a">sudo timeout</a></li>
<li><a href="#org089903f">How can I get the recoll package to index markdown (.md) files?</a></li>
<li><a href="#org636f693">json pretty print</a></li>
<li><a href="#orga12800c">installation</a>
<ul>
<li><a href="#org17375b5">other useful php modules</a></li>
<li><a href="#org38c0f17">starting windows in safe mode from grub</a></li>
<li><a href="#org5cfa026">making windows usb boot in ubuntu</a></li>
<li><a href="#orgcf2c333">ubuntu installation</a></li>
<li><a href="#org260ffd9">tell which package does a file belong to?</a></li>
<li><a href="#orgde9f2a5">apt-cacher-ng</a>
<ul>
<li><a href="#orgc67a3e1">installing apt-cacher-ng</a></li>
<li><a href="#orgbc16ac7">precaching for ubuntu xenial</a></li>
</ul>
</li>
<li><a href="#org46d7f4e">installing postgresql in ubuntu 16.0</a></li>
<li><a href="#orgc2217bf">php modules for connecting to postgresql</a></li>
<li><a href="#org36a620b">phpstorm bad gateway in phpstorm</a></li>
<li><a href="#orgedf35b0">nodjs</a></li>
<li><a href="#org0ad91e9">nvidia binary driver screen flickering</a></li>
</ul>
</li>
<li><a href="#orgfec2626">postgresql</a>
<ul>
<li><a href="#org32e9082">installation</a></li>
<li><a href="#orgb1fb853">Switching Over to the postgres Account</a>
<ul>
<li><a href="#org06b160a">refs</a></li>
</ul>
</li>
<li><a href="#org572b3da">Accessing a Postgres Prompt Without Switching Account</a></li>
<li><a href="#orgc13cd62">creating a new role with <code>createuser</code></a></li>
<li><a href="#org6996de1">creating a new db with <code>createdb</code></a></li>
<li><a href="#org146722b">psql</a>
<ul>
<li><a href="#org4b170b9">list all dbs and users?</a></li>
<li><a href="#orgdd48551">PostgreSQL “DESCRIBE TABLE”</a></li>
</ul>
</li>
<li><a href="#org84dc154">create autoincrement column</a></li>
<li><a href="#org907733f">Accessing a Postgres Prompt Without Switching Accounts</a></li>
<li><a href="#orgdefed12">backup with pg<sub>dump</sub></a></li>
<li><a href="#orge2b89b7">create UUID without extension</a></li>
<li><a href="#org16da57d">get list of installed extensions?</a></li>
<li><a href="#org1df6509">copying postgresql database to another server</a></li>
<li><a href="#org65c4cfa">active connections to the database</a></li>
<li><a href="#orga673689">rename postgresql database</a></li>
<li><a href="#org18447dd">which version of <code>postgresql</code> am I running?</a></li>
<li><a href="#org55e1623">restoring database with <code>psql</code></a></li>
<li><a href="#orge72fe4c">connect to <code>postgresql</code> database in local host without password</a></li>
<li><a href="#orgc2d6d73">How to reload config settings without restarting database</a></li>
<li><a href="#orgd982f62">backup</a>
<ul>
<li><a href="#org5e0be37">intro</a></li>
<li><a href="#org69f2795">backup a single database</a></li>
<li><a href="#org5186708">logical backup of all databases</a></li>
<li><a href="#org4f91c3a">taking a base backup</a></li>
</ul>
</li>
<li><a href="#org822f56d">examplg <code>pg_hba.conf</code></a></li>
<li><a href="#org256616f">connect to <code>psql</code> without password</a></li>
</ul>
</li>
<li><a href="#orgc03fae8">phppgadmin</a></li>
<li><a href="#org8a9b405">working with Base64</a>
<ul>
<li><a href="#org7db6264">Decode a string</a></li>
<li><a href="#org4a0de31">Encode the entire contents of a file</a></li>
<li><a href="#orgca7d128">Encode a simple string</a></li>
</ul>
</li>
<li><a href="#org7328782">calculating hashes</a>
<ul>
<li><a href="#orgd84804d">md5</a></li>
<li><a href="#org796f6b7">sha-1</a></li>
</ul>
</li>
<li><a href="#orgc186d12">unicode</a>
<ul>
<li><a href="#org77850ad">deocde a utf escaped string</a></li>
</ul>
</li>
<li><a href="#orgf68c31d">wireless</a>
<ul>
<li><a href="#org2b42772">concepts</a>
<ul>
<li><a href="#orgbebc4f0">wlan frames</a></li>
<li><a href="#orgca2a942">Shared Key Authentication</a></li>
</ul>
</li>
<li><a href="#orgd8f01ef">aircrack-ng</a>
<ul>
<li><a href="#orga83666e">put card in monitor mode</a></li>
<li><a href="#org78fd08f">check for interfering processes</a></li>
<li><a href="#orge785fae">capturing packets</a></li>
<li><a href="#org5874cc5">viewing management,control and data frames</a></li>
<li><a href="#org8c646c9">sniffing data packets of a network.</a></li>
<li><a href="#org3cc17f5">bypassing authentication</a>
<ul>
<li><a href="#org1dbf991">finding hidden SSID</a></li>
<li><a href="#org2541c17">beating MAC filters</a></li>
</ul>
</li>
<li><a href="#org3ca8b2d">decrypting WPA packets</a></li>
<li><a href="#org26d5023">DOS attacks</a></li>
</ul>
</li>
<li><a href="#orge75530c">connecting to access point using <code>iwconfig</code></a></li>
<li><a href="#org7f80785">viewing available wireless interfaces</a></li>
<li><a href="#org2453f16">scan for Access Points</a></li>
</ul>
</li>
<li><a href="#org3980223">capturing traffic</a>
<ul>
<li><a href="#org6f4c44b">concepts</a>
<ul>
<li><a href="#org9428f3e">ARP</a></li>
</ul>
</li>
<li><a href="#orgaf0ace3">viewing ARP cache</a></li>
<li><a href="#orgfd0b8fd">ARP cache poisoning</a></li>
<li><a href="#orgce31b1f">Using ARP Cache Poisoning to Impersonate the Default Gateway</a></li>
</ul>
</li>
<li><a href="#org36e9061">limit CPU usage of a process</a></li>
<li><a href="#orge5e735a">send output from one terminal to another</a></li>
<li><a href="#org8b40751">apache</a>
<ul>
<li><a href="#org7e46b46">virtual hosts</a></li>
<li><a href="#orgca98d66"><code>RewriteRule</code></a></li>
<li><a href="#orgc3774dc"><code>RewriteCondition</code></a></li>
<li><a href="#org3e91c02"><code>mod_access</code></a></li>
<li><a href="#org7bcd6a8"><code>.htaccess</code> for development server</a></li>
<li><a href="#org4036af9">hot linking protection</a></li>
<li><a href="#orgead0666">Starting, Stopping, and Restarting Apache</a></li>
</ul>
</li>
<li><a href="#orge809680">redis</a>
<ul>
<li><a href="#orgc9a2a17">using from command line</a></li>
<li><a href="#org8231f2d">Redis data types</a>
<ul>
<li><a href="#org8a62b50">Strings</a></li>
<li><a href="#orgdd1152d"><code>EXPIRE</code> command</a></li>
</ul>
</li>
<li><a href="#orgf36929b">Hello world using <code>redis</code> and <code>Nodejs</code></a></li>
<li><a href="#org61b4092">Building a voting system with Strings using Node.js</a></li>
</ul>
</li>
<li><a href="#orgc660c13">references</a></li>
</ul>
</div>
</div>

<div id="outline-container-org53e89e9" class="outline-2">
<h2 id="org53e89e9">network</h2>
<div class="outline-text-2" id="text-org53e89e9">
</div><div id="outline-container-org4f1644b" class="outline-3">
<h3 id="org4f1644b">config</h3>
<div class="outline-text-3" id="text-org4f1644b">
<p>
Ubuntu and all the Debian-based distributions use a unique file to
configure all the network interfaces; this file is named <b>/etc/network/interfaces</b>.
</p>

<p>
An Ethernet interface is configured in either the DHCP or static mode. If it is the
DHCP mode, we will find the following lines in <b>/etc/network/interfaces</b> :
</p>

<pre class="example">
auto eth0
iface eth0 inet dhcp
</pre>

<p>
Here, the line containing the auto keyword means that this interface should be
automatically brought up when a computer boots up.
</p>

<p>
If it is in the static mode, you will find the output that looks like the following lines:
</p>

<pre class="example">
iface eth0 inet static
address 192.168.1.58
netmask 255.255.255.0
gateway 192.168.1.1
</pre>
</div>
</div>

<div id="outline-container-org665228b" class="outline-3">
<h3 id="org665228b"><code>resolve.conf</code> DNS config</h3>
<div class="outline-text-3" id="text-org665228b">
<p>
<code>/etc/resolv.conf</code> is another network configuration file which
contains the DNS list used by the server. If you are using DHCP, the
content of this file will be set automatically. You can edit it by
adding your own/favorite DNS servers in the following format:
</p>

<pre class="example">
nameserver 192.168.1.11
nameserver 192.168.1.12
</pre>

<p>
starting from Ubuntu 12.04 and later, <code>/etc/resolve.conf</code> is located at:
</p>

<pre class="example">
sudo vi /etc/resolvconf/resolv.conf.d/base
</pre>
</div>
</div>

<div id="outline-container-orgc0087d0" class="outline-3">
<h3 id="orgc0087d0">put wireless card in monitor mode</h3>
<div class="outline-text-3" id="text-orgc0087d0">
<div class="org-src-container">
<pre class="src src-shell">sudo ifconfig wlan1 down
sudo iwconfig wlan1 mode monitor
# Check:
iwconfig
</pre>
</div>
</div>
</div>

<div id="outline-container-org8f4c4e5" class="outline-3">
<h3 id="org8f4c4e5">add bridges to tor</h3>
<div class="outline-text-3" id="text-org8f4c4e5">
<ol class="org-ol">
<li><a href="https://bridges.torproject.org/">https://bridges.torproject.org/</a></li>
<li><p>
add the bridges at the end of  torrc
</p>

<pre class="example">
UseBridges 1
Bridge &lt;ip&gt;:&lt;port&gt; &lt;fingerprint&gt;
</pre></li>
</ol>
</div>
</div>

<div id="outline-container-org94f3fb4" class="outline-3">
<h3 id="org94f3fb4">use privoxy to http over socks</h3>
<div class="outline-text-3" id="text-org94f3fb4">
<p>
open <code>~/etc/privoxy/config/</code> and comment out the line
</p>

<pre class="example">
#        forward-socks5t             /     127.0.0.1:9050 .
</pre>

<p>
and maybe
</p>

<pre class="example">
#        forward         192.168.*.*/     .
#        forward            10.*.*.*/     .
#        forward           127.*.*.*/     .
</pre>

<p>
and
</p>

<pre class="example">
#        forward           localhost/     .
</pre>
</div>
</div>

<div id="outline-container-org192d746" class="outline-3">
<h3 id="org192d746">network open sockets by program name?</h3>
<div class="outline-text-3" id="text-org192d746">
<pre class="example">
$ netstat -ltpu
</pre>
</div>
</div>

<div id="outline-container-org6badf82" class="outline-3">
<h3 id="org6badf82">bandwidth usage by program name?</h3>
<div class="outline-text-3" id="text-org6badf82">
<div class="org-src-container">
<pre class="src src-shell">$ sudo nethogs &lt;NIC&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org166e0bb" class="outline-3">
<h3 id="org166e0bb">static route</h3>
<div class="outline-text-3" id="text-org166e0bb">
<p>
To set up a static route on Ubuntu so that it automatically gets
created every time the PC starts, you need to modify the
<code>/etc/network/interfaces</code> file.
</p>

<pre class="example">
$ sudo nano /etc/network/interfaces
</pre>

<p>
The route will get set up when one of the interfaces comes up. Find
the section that corresponds to the interface that this route will be
set up on. Eg. eth0 or em1.
</p>

<p>
At the bottom of this section, add the following line:
</p>

<pre class="example">
up route add -net 192.168.40.0/24 gw 192.168.30.1 dev em1
up route add -net 172.16.11.0/24 gw 172.16.12.141 dev eth0:0
</pre>
</div>
</div>

<div id="outline-container-org784d539" class="outline-3">
<h3 id="org784d539">nmcli</h3>
<div class="outline-text-3" id="text-org784d539">
<div class="org-src-container">
<pre class="src src-shell">$ nmcli device wifi list    # the same as sudo iw wlp12s0 scan | grep SSID
# use nmcli to display configured permissions with the following command:
$ nmcli general permissions

#creating  a connection
$ sudo nmcli connection add con-name wired-home \
ifname enp9s0 type ethernet ip4 192.168.0.8 gw4 192.168.0.1
Connection 'wired-home' (e17cb6b7-685f-4cf2-9e8b-16cbfae1f73a)
successfully added.
#add the DNS configuration to the connection profile
$ sudo nmcli connection modify wired-home ipv4.dns "192.168.0.3 8.8.8.8"
# We can now display the properties with the following command:
$ nmcli -p connection show wired-home
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3ffd698" class="outline-2">
<h2 id="org3ffd698">ssh</h2>
<div class="outline-text-2" id="text-org3ffd698">
</div><div id="outline-container-orgfc94837" class="outline-3">
<h3 id="orgfc94837">installation</h3>
<div class="outline-text-3" id="text-orgfc94837">
<div class="org-src-container">
<pre class="src src-shell">$ sudo apt-get install openssh-client
$ sudo apt-get install openssh-server
$ sudo apt-get install ssh   # installes both the client and the server
</pre>
</div>
</div>
</div>

<div id="outline-container-org50f394e" class="outline-3">
<h3 id="org50f394e">ssh escape sequences</h3>
<div class="outline-text-3" id="text-org50f394e">
<p>
all you’ve to do is press [Enter] key followed by ~.. Please note that
escapes are only recognized immediately after newline.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">command</th>
<th scope="col" class="org-left">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">~.</td>
<td class="org-left">Disconnect.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">~<sup>Z</sup></td>
<td class="org-left">Background ssh.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">~#</td>
<td class="org-left">List forwarded connections.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">~&amp;</td>
<td class="org-left">Background ssh at logout when waiting for forwarded connection / X11 sessions to terminate.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">~?</td>
<td class="org-left">Display a list of escape characters.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">~B</td>
<td class="org-left">Send a BREAK to the remote system (only useful for SSH protocol version 2 and if the peer supports it).</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">~C</td>
<td class="org-left">Open command line.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">~R</td>
<td class="org-left">Request rekeying of the connection (only useful for SSH protocol version 2 and if the peer supports it).</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org1b2a50e" class="outline-2">
<h2 id="org1b2a50e">vmware</h2>
<div class="outline-text-2" id="text-org1b2a50e">
</div><div id="outline-container-org443e65a" class="outline-3">
<h3 id="org443e65a">start virtual machine in background</h3>
<div class="outline-text-3" id="text-org443e65a">
<pre class="example">
vmrun -T ws start /export/vmware/rh5/server.vmx nogui
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfff6978" class="outline-2">
<h2 id="orgfff6978">Misc</h2>
<div class="outline-text-2" id="text-orgfff6978">
</div><div id="outline-container-org0400c8e" class="outline-3">
<h3 id="org0400c8e">remap caps lock to ctrl</h3>
<div class="outline-text-3" id="text-org0400c8e">
<p>
To permanently change the behaviour:
</p>
<pre class="example">
run dconf-editor

select org.gnome.desktop.input-sources

Change xkb-options to ['ctrl:nocaps'] (or add it to any existing options)
</pre>

<p>
or on the command line (Warning &#x2013; this overwrites your existing settings!):
</p>
<pre class="example">
gsettings set org.gnome.desktop.input-sources xkb-options "['ctrl:nocaps']"
</pre>
</div>
</div>

<div id="outline-container-orga36ca36" class="outline-3">
<h3 id="orga36ca36">how to tell which version of library you have?</h3>
<div class="outline-text-3" id="text-orga36ca36">
<div class="org-src-container">
<pre class="src src-shell">$ dpkg -l '*ssh*'
</pre>
</div>
</div>
</div>

<div id="outline-container-org4a47a98" class="outline-3">
<h3 id="org4a47a98">time</h3>
<div class="outline-text-3" id="text-org4a47a98">
</div><div id="outline-container-orgc3f2f2c" class="outline-4">
<h4 id="orgc3f2f2c">sync time</h4>
<div class="outline-text-4" id="text-orgc3f2f2c">
<div class="org-src-container">
<pre class="src src-shell">$ sudo date -s "$(wget -qSO- --max-redirect=0 google.com 2&gt;&amp;1 | grep Date: | cut -d' ' -f5-8)Z"
</pre>
</div>
</div>
</div>

<div id="outline-container-org7fd0302" class="outline-4">
<h4 id="org7fd0302">change CPU affinity for a process</h4>
<div class="outline-text-4" id="text-org7fd0302">
<div class="org-src-container">
<pre class="src src-shell">$ taskset -pc 0 `pidof recoll`
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org90d5f2f" class="outline-3">
<h3 id="org90d5f2f">recoll</h3>
<div class="outline-text-3" id="text-org90d5f2f">
<p>
kchmviewer &#x2013;url %i %F
</p>
</div>
</div>
</div>
<div id="outline-container-org5207c1d" class="outline-2">
<h2 id="org5207c1d">groups</h2>
<div class="outline-text-2" id="text-org5207c1d">
</div><div id="outline-container-orgb7a24ba" class="outline-4">
<h4 id="orgb7a24ba">Add a New Group</h4>
<div class="outline-text-4" id="text-orgb7a24ba">
<p>
To add a new group, all you need to do is use the groupadd command like so:
</p>
<pre class="example">
groupadd &lt;groupname&gt;
</pre>
</div>
</div>

<div id="outline-container-org2aaf8a3" class="outline-4">
<h4 id="org2aaf8a3">Add an Existing User to a Group</h4>
<div class="outline-text-4" id="text-org2aaf8a3">
<p>
Next we’ll add a user to the group, using this syntax:
</p>
<div class="org-src-container">
<pre class="src src-shell">$ usermod -a -G &lt;groupname&gt; username
</pre>
</div>

<p>
For example, to add user geek to the group admins, use the following command:
</p>
<pre class="example">
$ usermod -a -G admins geek
</pre>
</div>
</div>

<div id="outline-container-org47ea03b" class="outline-4">
<h4 id="org47ea03b">Change a User’s Primary Group</h4>
<div class="outline-text-4" id="text-org47ea03b">
<p>
Sometimes you might want to switch out the primary group that a user is assigned to, which you can do with this command:
</p>
<pre class="example">
usermod -g &lt;groupname&gt; username
</pre>
</div>
</div>

<div id="outline-container-org01701e0" class="outline-4">
<h4 id="org01701e0">View a User’s Group Assignments</h4>
<div class="outline-text-4" id="text-org01701e0">
<p>
If you’re trying to figure out a permissions issue, you’ll want to use the id command to see what groups the user is assigned to:
</p>
<div class="org-src-container">
<pre class="src src-shell">id &lt;username&gt;

# This will display output something like this:

uid=500(howtogeek) gid=500(howtogeek) groups=500(howtogeek), 1093(admins)
</pre>
</div>

<p>
You can also use the groups command if you prefer, though it is the same as using id -Gn &lt;username&gt;.
</p>
<div class="org-src-container">
<pre class="src src-shell">$ groups &lt;username&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgacd2f39" class="outline-4">
<h4 id="orgacd2f39">View a List of All Groups</h4>
<div class="outline-text-4" id="text-orgacd2f39">
<p>
To view all the groups on the system, you can just use the groups command:
</p>
<div class="org-src-container">
<pre class="src src-shell">$ groups
</pre>
</div>

<p>
Add a New User and Assign a Group in One Command
</p>

<p>
Sometimes you might need to add a new user that has access to a particular
resource or directory, like adding a new FTP user. You can do so with the
useradd command:
</p>
<div class="org-src-container">
<pre class="src src-shell">$ useradd -g &lt;groupname&gt; username
</pre>
</div>

<p>
For instance, lets say you wanted to add a new user named jsmith to the ftp group:
</p>
<div class="org-src-container">
<pre class="src src-shell">$ useradd -G ftp jsmith
</pre>
</div>

<p>
And then you’ll want to assign a password for that user, of course:
</p>
<div class="org-src-container">
<pre class="src src-shell">$ passwd jsmith
</pre>
</div>

<p>
Add a User to Multiple Groups
</p>

<p>
You can easily add a user to more than one group by simply specifying them in a
comma-delimited list, as long as you are assigning the secondary groups:
</p>
<div class="org-src-container">
<pre class="src src-shell">$ usermod -a -G ftp,admins,othergroup &lt;username&gt;
</pre>
</div>

<p>
That should cover everything you need to know about adding users to groups on Linux.
</p>
</div>
</div>
</div>

<div id="outline-container-org305b73a" class="outline-2">
<h2 id="org305b73a">file</h2>
<div class="outline-text-2" id="text-org305b73a">
</div><div id="outline-container-org1398dbf" class="outline-3">
<h3 id="org1398dbf">convert cue disk image to iso format?</h3>
<div class="outline-text-3" id="text-org1398dbf">
<p>
Typically a .cue file will be accompanied by a .bin file that contains
the actual image data.  If you'd like to convert it to the .iso
format, the Iso9660 Analyzer Tool (-get install iat) should do the
trick:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ iat my_image.bin my_new_image.iso
</pre>
</div>
</div>
</div>

<div id="outline-container-org2d390ff" class="outline-3">
<h3 id="org2d390ff">show recently modified/created files?</h3>
<div class="outline-text-3" id="text-org2d390ff">
<div class="org-src-container">
<pre class="src src-shell">$ find ${1} -type f | xargs stat --format '%Y :%y %n' 2&gt;/dev/null | sort -nr | cut -d: -f2-
</pre>
</div>
</div>
</div>

<div id="outline-container-org7430a79" class="outline-3">
<h3 id="org7430a79">empty a log file</h3>
<div class="outline-text-3" id="text-org7430a79">
<div class="org-src-container">
<pre class="src src-shell">$ cat /dev/null &gt; logfile
$ cp /dev/null largefile.txt
$ dd if=/dev/null of=logfile    # shows how long it takes
$ truncate logfile --size 0
</pre>
</div>
</div>
</div>

<div id="outline-container-orgecb26bd" class="outline-3">
<h3 id="orgecb26bd">searching</h3>
<div class="outline-text-3" id="text-orgecb26bd">
</div><div id="outline-container-org65952c3" class="outline-4">
<h4 id="org65952c3">Find</h4>
<div class="outline-text-4" id="text-org65952c3">
<p>
Some important options:
-x (on BSD) -xdev (on Linux)       Stay on the same file system (dev in fstab).
-exec cmd {} \;       Execute the command and replace {} with the full path
-iname       Like -name but is case insensitive
-ls       Display information about the file (like ls -la)
-size n       n is +-n (k M G T P)
-cmin n       File's status was last changed n minutes ago.
</p>

<div class="org-src-container">
<pre class="src src-shell">$ find . -type f ! -perm -444        # Find files not readable by all
$ find . -type d ! -perm -111        # Find dirs not accessible by all
$ find /home/user/ -cmin 10 -print   # Files created or modified in the last 10 min.
$ find . -name '*.[ch]' | xargs grep -E 'expr' # Search 'expr' in this dir and below.
$ find / -name "*.core" | xargs rm   # Find core dumps and delete them (also try core.*)
$ find / -name "*.core" -print -exec rm {} \;  # Other syntax
$ Find images and create an archive, iname is not case sensitive. -r for append
$ find . \( -iname "*.png" -o -iname "*.jpg" \) -print -exec tar -rf images.tar {} \;
$ find . -type f -name "*.txt" ! -name README.txt -print  # Exclude README.txt files
$ find /var/ -size +10M -exec ls -lh {} \;     # Find large files &gt; 10 MB
$ find /var/ -size +10M -ls           # This is simpler
$ find . -size +10M -size -50M -print
$ find /usr/ports/ -name work -type d -print -exec rm -rf {} \;  # Clean the ports
$ Find files with SUID; those file are vulnerable and must be kept secure
$ find / -type f -user root -perm -4000 -exec ls -l {} \;
$ find /home/ -name "*~"   #find tilde files (backup files)
# Find all the files directly under the /etc/ directory that start with the letter p
# and end in anything using the following command:
$ find / -regex '^/etc/p[a-z]*$'

# Find all the files on the filesystem that are called configuration, ignoring case,
# and accommodating abbreviations such as confg , cnfg , and cnfig using the
# following command:
$ find / -regex '^[/a-z_]*[cC]+[Oo]*[nN]+[fF]+[iI]*[gF]+$'

# This command will find and delete anything reachable one level from the
# root that has a name such as 'virus'—case-insensitive.

$ find / -regex '^/[a-z_\-]*/[Vv][iI][rR][uS]*$' –delete

$ find /etc/ -maxdepth 1 -name passwd -exec stat {} \;

# look for files larger than specified number(1M)
$ find ~ -type f -name "*.JPG" -size +1M

# We would look for all the files with permissions that are not 0600 
# and the directories with permissions that are not 0700.
$ find ~ \( -type f -not -perm 0600 \) -or \( -type d -not -perm 0700 \)

# delete files that have file extension ".BAK"
$ find ~ -type f -name '*.BAK' -delete

# execute user defined action interactively using -ok
$ find ~ -type f -name 'foo*' -ok ls -l '{}' ';'

# dealing with filenames with spaces
# -print0 provides null-separated output
# xargs has --null option, accepts null separated input.
# A null character is defined in ASCII as the character repre-sented by the number zero
$ find ~ -iname '*.jpg' -print0 | xargs --null ls -l
</pre>
</div>
</div>
</div>

<div id="outline-container-org4c24e3a" class="outline-4">
<h4 id="org4c24e3a">locate</h4>
<div class="outline-text-4" id="text-org4c24e3a">
<div class="org-src-container">
<pre class="src src-shell"># will search its database of pathnames and output any that contain the string "bin/zip"
$ locate bin/zip
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgabf28c4" class="outline-2">
<h2 id="orgabf28c4">php</h2>
<div class="outline-text-2" id="text-orgabf28c4">
<p>
if php does not get executed.
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo apt-get install libapache2-mod-php7.0
</pre>
</div>
</div>
</div>

<div id="outline-container-org1ed75c8" class="outline-2">
<h2 id="org1ed75c8">wget</h2>
<div class="outline-text-2" id="text-org1ed75c8">
</div><div id="outline-container-org1bbc593" class="outline-3">
<h3 id="org1bbc593">ignore robots.txt</h3>
<div class="outline-text-3" id="text-org1bbc593">
<p>
<code>-e robots=off</code>
</p>
</div>
</div>

<div id="outline-container-org5de3a03" class="outline-3">
<h3 id="org5de3a03">get the size of file before downloading</h3>
<div class="outline-text-3" id="text-org5de3a03">
<div class="org-src-container">
<pre class="src src-shell">$ wget --spider &lt;link&gt;
$ curl --head &lt;link&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfe9bfdd" class="outline-3">
<h3 id="orgfe9bfdd">wget download with proxy</h3>
<div class="outline-text-3" id="text-orgfe9bfdd">
<p>
Via <code>~/.wgetrc</code> file:
</p>

<pre class="example">
use_proxy=yes
http_proxy=127.0.0.1:8080
</pre>

<p>
or via -e options placed after the URL:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ wget ... -e use_proxy=yes -e http_proxy=127.0.0.1:8080 ...
</pre>
</div>

<p>
<b>https proxy</b>
note you also need to set <b>https<sub>proxy</sub></b> if url is HTTPS
</p>

<p>
<b>with authentication</b>
</p>

<p>
http<sub>proxy</sub>=<a href="http://username:password@proxy_host%3Aproxy_port/">http://username:password@proxy_host:proxy_port/</a>
</p>

<p>
<a href="http://stackoverflow.com/questions/11211705/setting-proxy-in-wget">http://stackoverflow.com/questions/11211705/setting-proxy-in-wget</a>
</p>
</div>
</div>
</div>

<div id="outline-container-org7533476" class="outline-2">
<h2 id="org7533476">System</h2>
<div class="outline-text-2" id="text-org7533476">
</div><div id="outline-container-org1ced91e" class="outline-3">
<h3 id="org1ced91e">Running kernel and system information:</h3>
<div class="outline-text-3" id="text-org1ced91e">
<div class="org-src-container">
<pre class="src src-shell">$ uname -a                                  # Get the kernel version (and BSD version)
$ lsb_release -a                         $ Full release info of any LSB distribution
$ cat /etc/debian_version         # Get Debian version
Use /etc/DISTR-release with DISTR= lsb (Ubuntu) /etc/issue.
$ uptime                                      # Show how long the system has been running + load
$ hostname                                # system's host name
$ hostname -i                            # Display the IP address of the host.
$ man hier                                 # Description of the file system hierarchy
$ last reboot                              # Show system reboot history
</pre>
</div>
</div>
</div>

<div id="outline-container-org1fff0d4" class="outline-3">
<h3 id="org1fff0d4">Hardware Informations:</h3>
<div class="outline-text-3" id="text-org1fff0d4">
<p>
<b>Kernel detected hardware:</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">$+begin_src shell
$ dmesg                               # Detected hardware and boot messages
$ lsdev                                  # information about installed hardware
$ dd if=/dev/mem bs=1k skip=768 count=256 2&gt;/dev/null | strings -n 8 # Read BIOS

$ cat /proc/cpuinfo                               # CPU model
$ cat /proc/meminfo                             # Hardware memory
$ grep MemTotal /proc/meminfo       # Display the physical memory
$ watch -n1 'cat /proc/interrupts'        # Watch changeable interrupts continuously
$ free -m                                                # Used and free memory (-m for MB)
$ cat /proc/devices                              # Configured devices
$ lspci -tv                       # Show PCI devices
$ lsusb -tv                      # Show USB devices
$ lshal                            # Show a list of all devices with their properties
$ dmidecode                # Show DMI/SMBIOS: hw info from the BIOS
</pre>
</div>
</div>
</div>

<div id="outline-container-org269910f" class="outline-3">
<h3 id="org269910f">Load, statistics and messages:</h3>
<div class="outline-text-3" id="text-org269910f">
<p>
The following commands are useful to find out what is going on on the
system.
</p>

<div class="org-src-container">
<pre class="src src-shell">$ top                                                   # display and update the top cpu processes
$ mpstat 1                                         # display processors related statistics
$ vmstat 2                                         # display virtual memory statistics
$ iostat 2                                           # display I/O statistics (2 s intervals)
$ systat -vmstat 1                            # BSD summary of system statistics (1 s intervals)
$ systat -tcp 1                                  # BSD tcp connections (try also -ip)
$ systat -netstat 1                           # BSD active network connections
$ systat -ifstat 1                               # BSD network traffic through active interfaces
$ systat -iostat 1                              # BSD CPU and and disk throughput
$ tail -n 500 /var/log/messages    # Last 500 kernel/syslog messages
$ tail /var/log/warn                          # System warnings messages see syslog.conf
</pre>
</div>
</div>

<div id="outline-container-orgc98dd23" class="outline-4">
<h4 id="orgc98dd23">Users</h4>
<div class="outline-text-4" id="text-orgc98dd23">
<div class="org-src-container">
<pre class="src src-shell"># id                                                                     # Show the active user id with login and group
# last                                                                  # Show last logins on the system
# who                                                                 # Show who is logged on the system
# groupadd admin                                           # Add group "admin" and user colin
# useradd -c "Colin Barschel" -g admin -m colin
# usermod -a -G                                               # Add existing user to group (Debian)
# userdel colin                                                  # Delete user colin 
# pw groupmod admin -m newmembe r      # Add a new member to a group
# pw useradd colin -c "Colin Barschel" -g admin -m -s /bin/tcsh
# pw userdel colin; pw groupdel admin
</pre>
</div>
</div>
</div>

<div id="outline-container-orge70b648" class="outline-4">
<h4 id="orge70b648">Kernel modules</h4>
<div class="outline-text-4" id="text-orge70b648">
<div class="org-src-container">
<pre class="src src-shell">$ lsmod                                      # List all modules loaded in the kernel
$ modprobe isdn                      # To load a module (here isdn)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc9a4e38" class="outline-4">
<h4 id="orgc9a4e38">Compile Kernel</h4>
<div class="outline-text-4" id="text-orgc9a4e38">
<div class="org-src-container">
<pre class="src src-shell">$ cd /usr/src/linux
$ make mrproper                      # Clean everything, including config files
$ make oldconfig                      # Reuse the old .config if existent
$ make menuconfig                 # or xconfig (Qt) or gconfig (GTK)
$ make                                       # Create a compressed kernel image
$ make modules                      # Compile the modules
$ make modules_install         # Install the modules
$ make install                           # Install the kernel
$ reboot
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdccda58" class="outline-3">
<h3 id="orgdccda58">processes</h3>
<div class="outline-text-3" id="text-orgdccda58">
<p>
listing and pids
</p>

<p>
each process has a unique number, the pid. a list of all running process is
retrieved with ps.
</p>

<div class="org-src-container">
<pre class="src src-shell"># ps -auxefw                         # extensive list of all running process
</pre>
</div>

<p>
however more typical usage is with a pipe or with pgrep:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ ps axww | grep cron
586  ??  is     0:01.48 /usr/sbin/cron -s
$ ps axjf                                     # all processes in a tree format
$ ps aux | grep 'ss[h]'               # find all ssh pids without the grep pid
$ pgrep -l sshd                         # find the pids of processes by (part of) name
$ echo $$                                  # the pid of your shell
$ fuser -va 22/tcp                     # list processes using port 22 (linux)
$ pmap pid                               # memory map of process (hunt memory leaks) (linux)
$ fuser -va /home                     # list processes accessing the /home partition
$ strace df                                  # trace system calls and signals
$ truss df                                    # same as above
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbd858ce" class="outline-3">
<h3 id="orgbd858ce">Signals/Kill</h3>
<div class="outline-text-3" id="text-orgbd858ce">
<p>
Terminate or send a signal with kill or killall.
</p>

<div class="org-src-container">
<pre class="src src-shell">$ kill -s TERM 4712                  # same as kill -15 4712
$ killall -1 httpd                          # Kill HUP processes by exact name
$ pkill -9 http                              # Kill TERM processes by (part of) name
$ pkill -TERM -u www              # Kill TERM processes owned by www
$ fuser -k -TERM -m /home     # Kill every process accessing /home (to umount)
</pre>
</div>

<p>
Important signals are:
</p>

<pre class="example">
1       HUP (hang up)
2       INT (interrupt)
3       QUIT (quit)
9       KILL (non-catchable, non-ignorable kill)
15     TERM (software termination signal)
</pre>
</div>
</div>

<div id="outline-container-org044ca1c" class="outline-3">
<h3 id="org044ca1c">Permissions</h3>
<div class="outline-text-3" id="text-org044ca1c">
<p>
Change permission and ownership with chmod and chown.  The default
umask can be changed for all users in /etc/profile for Linux.  The
default umask is usually 022. The umask is subtracted from 777, thus
umask 022 results in a permission 0f 755.
</p>

<p>
1 &#x2013;x execute                        # Mode 764 = exec/read/write | read/write | read
2 -w- write                          # For:       |&#x2013;  Owner  &#x2013;|   |- Group-|   |Oth|
4 r&#x2013; read
ugo=a                              u=user, g=group, o=others, a=everyone
</p>

<div class="org-src-container">
<pre class="src src-shell">$ chmod [OPTION] MODE[,MODE] FILE    # MODE is of the form [ugoa]*([-+=]([rwxXst]))
$ chmod 640 /var/log/maillog                      # Restrict the log -rw-r-----
$ chmod u=rw,g=r,o= /var/log/maillog       # Same as above
$ chmod -R o-r /home/*                                # Recursive remove other readable for all users
$ chmod u+s /path/to/prog                           # Set SUID bit on executable (know what you do!)
$ find / -perm -u+s -print                               # Find all programs with the SUID bit
$ chown user:group /path/to/file                  # Change the user and group ownership of a file
$ chgrp group /path/to/file                             # Change the group ownership of a file
$ chmod 640 `find ./ -type f -print`                # Change permissions to 640 for all files
$ chmod 751 `find ./ -type d -print`               # Change permissions to 751 for all directories
</pre>
</div>

<p>
Disk information:
</p>
<div class="org-src-container">
<pre class="src src-shell">$ hdparm -I /dev/sda                 # information about the IDE/ATA disk (Linux)
$ fdisk /dev/ad2                          # Display and manipulate the partition table
$ smartctl -a /dev/ad2                # Display the disk SMART info
</pre>
</div>

<p>
System mount points/Disk usage
</p>
<div class="org-src-container">
<pre class="src src-shell">$ mount | column -t                   # Show mounted file-systems on the system
$ df                                              # display free disk space and mounted devices
$ cat /proc/partitions                # Show all registered partitions
$ du -sh *                                 # Directory sizes as listing
$ du -csh                                 # Total directory size of the current directory
$ du -ks * | sort -n -r              # Sort everything by size in kilobytes
</pre>
</div>

<p>
Who has which files opened:
This is useful to find out which file is blocking a partition which has to be unmounted and gives a typical error of:
</p>

<p>
umount: unmount of /home             # umount impossible because a file is locking home
   failed: Device busy
</p>

<p>
Find opened files on a mount point with fuser or lsof:
</p>

<p>
COMMAND   PID    USER   FD   TYPE DEVICE    SIZE     NODE NAME
tcsh    29029 eedcoba  cwd    DIR   0,18   12288  1048587 /home/cipi (cipi:/home)
lsof    29140 eedcoba  cwd    DIR   0,18   12288  1048587 /home/cipi (cipi:/home)
About an application:
</p>

<p>
ps ax | grep Xorg | awk '{print $1}'
3324
</p>

<p>
COMMAND   PID    USER   FD   TYPE DEVICE    SIZE    NODE NAME
Xorg    3324 root    0w   REG        8,6   56296      12492 /var/log/Xorg.0.log
About a single file:
</p>

<p>
COMMAND  PID USER   FD   TYPE DEVICE  SIZE  NODE NAME
Xorg    3324 root    0w   REG    8,6 56296 12492 /var/log/Xorg.0.log
</p>

<p>
Mount/remount a file system
</p>

<p>
For example the cdrom. If listed in /etc/fstab:
</p>
<pre class="example">
# mount /cdrom
# mount -t auto /dev/cdrom /mnt/cdrom             # typical cdrom mount command
# mount /dev/hdc -t iso9660 -r /cdrom               # typical IDE
# mount /dev/scd0 -t iso9660 -r /cdrom             # typical SCSI cdrom
# mount /dev/sdc0 -t ntfs-3g /windows              # typical SCSI
</pre>

<p>
Entry in /etc/fstab:
</p>
<pre class="example">
/dev/cdrom   /media/cdrom  subfs noauto,fs=cdfss,ro,procuid,nosuid,nodev,exec 0 0
</pre>

<p>
Add swap on-the-fly
Suppose you need more swap (right now), say a 2GB file /swap2gb .
</p>


<p>
Mount an SMB share
</p>

<p>
Suppose we want to access the SMB share myshare on the computer smbserver, the
address as typed on a Windows PC is \\smbserver\myshare\. We mount on
/mnt/smbshare. Warning&gt; cifs wants an IP or DNS name, not a Windows name.
</p>

<p>
Additionally with the package mount.cifs it is possible to store the credentials in a file, for example <i>home/user</i>.smb:
</p>

<p>
username=winuser
password=winpwd
And mount as follow:
</p>

<p>
Mount an image:
</p>
</div>
</div>

<div id="outline-container-org8f52222" class="outline-3">
<h3 id="org8f52222">Create a memory file system</h3>
<div class="outline-text-3" id="text-org8f52222">
<p>
A memory based file system is very fast for heavy IO application. How
to create a 64 MB partition mounted on /memdisk:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ mount -t tmpfs -osize=64m tmpfs /memdisk
</pre>
</div>
</div>
</div>

<div id="outline-container-orgef22ec3" class="outline-3">
<h3 id="orgef22ec3">Disk performance</h3>
<div class="outline-text-3" id="text-orgef22ec3">
<p>
Read and write a 1 GB file on partition ad4s3c (/home)
</p>
<div class="org-src-container">
<pre class="src src-shell"># time dd if=/dev/ad4s3c of=/dev/null bs=1024k count=1000
# time dd if=/dev/zero bs=1024k count=1000 of=/home/1Gb.file
# hdparm -tT /dev/hda      # Linux only
</pre>
</div>
</div>
</div>

<div id="outline-container-org6165ca5" class="outline-3">
<h3 id="org6165ca5">Networking</h3>
<div class="outline-text-3" id="text-org6165ca5">
<div class="org-src-container">
<pre class="src src-shell"># ethtool eth0                                           # Show the ethernet status (replaces mii-diag)
# ethtool -s eth0 speed 100 duplex full # Force 100Mbit Full duplex
# ethtool -s eth0 autoneg off # Disable auto negotiation
# ethtool -p eth1                                      # Blink the ethernet led - very useful when supported
# ip link show                                           # Display all interfaces on Linux (similar to ifconfig)
# ip link set eth0 up                                # Bring device up (or down). Same as "ifconfig eth0 up"
# ip addr show                                        # Display all IP addresses on Linux (similar to ifconfig)
# ip neighbor show                                      # Similar to arp -a
</pre>
</div>
</div>
</div>

<div id="outline-container-orga4b3670" class="outline-3">
<h3 id="orga4b3670">Ports in use</h3>
<div class="outline-text-3" id="text-orga4b3670">
<p>
Listening open ports:
</p>
<div class="org-src-container">
<pre class="src src-shell"># netstat -an | grep LISTEN
# lsof -i                                         # List all Internet connections
# socklist                                     # Display list of open sockets
# netstat -anp --udp --tcp | grep LISTEN      
# netstat -tup                              # List active connections to/from system
# netstat -tupl                             # List listening ports from system
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd0418cb" class="outline-3">
<h3 id="orgd0418cb">Firewall</h3>
<div class="outline-text-3" id="text-orgd0418cb">
<p>
Check if a firewall is running (typical configuration only):
</p>
<div class="org-src-container">
<pre class="src src-shell"># iptables -L -n -v                                 # For status Open the iptables firewall
# iptables -P INPUT       ACCEPT     # Open everything
# iptables -P FORWARD     ACCEPT
# iptables -P OUTPUT      ACCEPT
# iptables -Z                                         # Zero the packet and byte counters in all chains
# iptables -F                                         # Flush all chains
# iptables -X                                         # Delete all chains
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd69f831" class="outline-3">
<h3 id="orgd69f831">IP Forward for routing</h3>
<div class="outline-text-3" id="text-orgd69f831">
<p>
Check and then enable IP forward with :
</p>

<div class="org-src-container">
<pre class="src src-shell"># cat /proc/sys/net/ipv4/ip_forward  # Check IP forward 0=off, 1=on
# echo 1 &gt; /proc/sys/net/ipv4/ip_forward
</pre>
</div>

<p>
or edit <code>/etc/sysctl.conf</code> with:
</p>

<p>
<code>net.ipv4.ip_forward = 1</code>
</p>

<p>
Network Address Translation
</p>
<div class="org-src-container">
<pre class="src src-shell"># iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE    # to activate NAT
# iptables -t nat -A PREROUTING -p tcp -d 78.31.70.238 --dport 20022 -j DNAT \
--to 192.168.16.44:22           # Port forward 20022 to internal IP port ssh
# iptables -t nat -A PREROUTING -p tcp -d 78.31.70.238 --dport 993:995 -j DNAT \
--to 192.168.16.254:993-995     # Port forward of range 993-995
# ip route flush cache
# iptables -L -t nat            # Check NAT status
</pre>
</div>
</div>
</div>

<div id="outline-container-org88b76b5" class="outline-3">
<h3 id="org88b76b5">DNS</h3>
<div class="outline-text-3" id="text-org88b76b5">
<p>
The DNS entries are valid for all interfaces and are stored in /etc/resolv.conf.
The domain to which the host belongs is also stored in this file. A minimal configuration is:
</p>

<p>
nameserver 66.63.128.84
search cipi.net intern.lab
domain cipi.org
</p>

<p>
Check the system domain name with:
</p>

<div class="org-src-container">
<pre class="src src-shell"># hostname -d                # Same as dnsdomainname
</pre>
</div>
</div>
</div>

<div id="outline-container-org8713071" class="outline-3">
<h3 id="org8713071">DHCP</h3>
<div class="outline-text-3" id="text-org8713071">
<div class="org-src-container">
<pre class="src src-shell"># dhcpcd -n eth0           # Trigger a renew (does not always work)
# dhcpcd -k eth0           # release and shutdown
</pre>
</div>

<p>
The lease with the full information is stored in:
/var/lib/dhcpcd/dhcpcd-eth0.info
</p>
</div>
</div>

<div id="outline-container-org37bac69" class="outline-3">
<h3 id="org37bac69">tar</h3>
<div class="outline-text-3" id="text-org37bac69">
<p>
The command tar (tape archive) creates and extracts archives of file
and directories. The archive .tar is uncompressed, a compressed
archive has the extension .tgz or .tar.gz (zip) or .tbz (bzip2). Do
not use absolute path when creating an archive, you probably want to
unpack it somewhere else. Some typical commands are:
</p>
</div>

<div id="outline-container-org95b96d5" class="outline-4">
<h4 id="org95b96d5">Create</h4>
<div class="outline-text-4" id="text-org95b96d5">
<p>
Only include one (or two) directories from a tree, but keep the
relative structure. For example archive /usr/local/etc and
<i>usr/local/www and the first directory in the archive should be
local</i>.
</p>

<div class="org-src-container">
<pre class="src src-shell">$ tar czf name_of_archive_file.tar.gz name_of_directory_to_tar 
$ tar -C /usr -czf local.tgz local/etc local/www
$ tar -C /usr -xzf local.tgz      # To untar the local dir into /usr
$ cd /usr; tar -xzf local.tgz     # Is the same as above

$ cd /var/www &amp;&amp; sudo tar czf ~/www_backups/$(date +%Y%m%d-%H%M%S).tar.gz .
# This would have created a file named something like 20120902-185558.tar.gz.
</pre>
</div>
</div>
</div>

<div id="outline-container-org11b45cb" class="outline-4">
<h4 id="org11b45cb">Extract</h4>
<div class="outline-text-4" id="text-org11b45cb">
<div class="org-src-container">
<pre class="src src-shell"># tar -tzf home.tgz               # look inside the archive without extracting (list)
# tar -xf home.tar                # extract the archive here (x for extract)
# tar -xzf home.tgz             # same with zip compression (-xjf for bzip2 compression)
                                # remove leading path gallery2 and extract into gallery
# tar --strip-components 1 -zxvf gallery2.tgz -C gallery/
# tar -xjf home.tbz home/colin/file.txt    # Restore a single file
</pre>
</div>
</div>
</div>

<div id="outline-container-org9160fa6" class="outline-4">
<h4 id="org9160fa6">More advanced</h4>
<div class="outline-text-4" id="text-org9160fa6">
<div class="org-src-container">
<pre class="src src-shell"># tar c dir/ | gzip | ssh user@remote 'dd of=dir.tgz' # arch dir/ and store remotely.
# tar cvf - `find . -print` &gt; backup.tar                 # arch the current directory.
# tar -cf - -C /etc . | tar xpf - -C /backup/etc      # Copy directories
# tar -cf - -C /etc . | ssh user@remote tar xpf - -C /backup/etc      # Remote copy.
# tar -czf home.tgz --exclude '*.o' --exclude 'tmp/' home/
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb1053e6" class="outline-3">
<h3 id="orgb1053e6">Miscellaneous</h3>
<div class="outline-text-3" id="text-orgb1053e6">
<div class="org-src-container">
<pre class="src src-shell">$ which command                      # Show full path name of command
$ time command                         # See how long a command takes to execute
$ time cat                                     # Use time as stopwatch. Ctrl-c to stop
$ set | grep $USER                    # List the current environment
$ cal -3                                         # Display a three month calendar
$ date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]
$ date 10022155                       # Set date and time
$ whatis grep                              # Display a short info on the command or word
$ whereis java                            # Search path and standard directories for word
$ setenv varname value           # Set env. variable varname to value (csh/tcsh)
$ export varname="value"        # set env. variable varname to value (sh/ksh/bash)
$ pwd                                # Print working directory
$ mkdir -p /path/to/dir                 # no error if existing, make parent dirs as needed
$ mkdir -p project/{bin,src,obj,doc/{html,man,pdf},debug/some/more/dirs}
$ rmdir /path/to/dir                     # Remove directory
$ rm -rf /path/to/dir                     # Remove directory and its content (force)
$ rm -- -badchar.txt                    # Remove file whitch starts with a dash (-)
$ cp -la /dir1 /dir2                       # Archive and hard link files instead of copy
$ cp -lpR /dir1 /dir2                    #
$ cp unixtoolbox.xhtml{,.bak}  # Short way to copy the file with a new extension
$ mv /dir1 /dir2                           # Rename a directory
$ ls -1                                           # list one file per line
$ history | tail -50                       # Display the last 50 used commands
$ cd -                                            # cd to previous ($OLDPWD) directory
</pre>
</div>
</div>
</div>

<div id="outline-container-org81ffcf8" class="outline-3">
<h3 id="org81ffcf8">Add/Remove software</h3>
<div class="outline-text-3" id="text-org81ffcf8">
<p>
Debian/Ubuntu/Mint
</p>

<div class="org-src-container">
<pre class="src src-shell">$ apt-get update                     # First update the package lists
$ apt-get install emacs          # Install the package emacs
$ dpkg --remove emacs        # Remove the package emacs
$ dpkg -S file                           # find what package a file belongs to
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge9e1ba0" class="outline-2">
<h2 id="orge9e1ba0">git</h2>
<div class="outline-text-2" id="text-orge9e1ba0">
</div><div id="outline-container-org45e9982" class="outline-3">
<h3 id="org45e9982">add a remote</h3>
<div class="outline-text-3" id="text-org45e9982">
<div class="org-src-container">
<pre class="src src-shell">git remote add origin &lt;repo-url&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org44ec045" class="outline-3">
<h3 id="org44ec045">Clone git repository without history?</h3>
<div class="outline-text-3" id="text-org44ec045">
<div class="org-src-container">
<pre class="src src-shell">$ git clone --depth 1 reponame.git
$ git clone --depth=1 &lt;remote_repo_url&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org2dcf0c6" class="outline-3">
<h3 id="org2dcf0c6">ignore files in a directory</h3>
<div class="outline-text-3" id="text-org2dcf0c6">
<pre class="example">
# ignores all files in tmp directory
tmp/*
</pre>
</div>
</div>

<div id="outline-container-org19dc4e2" class="outline-3">
<h3 id="org19dc4e2">add a remote to current repository</h3>
<div class="outline-text-3" id="text-org19dc4e2">
<div class="org-src-container">
<pre class="src src-shell">$ git remote add origin http://172.16.8.18/mansouri/xbs.git
</pre>
</div>
</div>
</div>

<div id="outline-container-org13f731b" class="outline-3">
<h3 id="org13f731b">git fails when pushing commit to github</h3>
<div class="outline-text-3" id="text-org13f731b">
<div class="org-src-container">
<pre class="src src-shell">$ git config http.postBuffer 524288000
</pre>
</div>
</div>
</div>

<div id="outline-container-org754acc0" class="outline-3">
<h3 id="org754acc0">clone only a branch</h3>
<div class="outline-text-3" id="text-org754acc0">
<div class="org-src-container">
<pre class="src src-shell">$ git clone  --branch release &lt;git_address&gt;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9bd4bb1" class="outline-2">
<h2 id="org9bd4bb1">font</h2>
<div class="outline-text-2" id="text-org9bd4bb1">
</div><div id="outline-container-orgc92a541" class="outline-3">
<h3 id="orgc92a541">rebuild font cache</h3>
<div class="outline-text-3" id="text-orgc92a541">
<div class="org-src-container">
<pre class="src src-shell"># fc-cache -f -v &lt;dir&gt;  
# where &lt;dir&gt; is the directory to search for fonts
$ fc-cache -f -v ~/.fonts/adobe-fonts/source-code-pro
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb5e706a" class="outline-3">
<h3 id="orgb5e706a">install <code>source code pro</code></h3>
<div class="outline-text-3" id="text-orgb5e706a">
<div class="org-src-container">
<pre class="src src-shell">#!/bin/sh

# ~/.fonts is now deprecated and that
#FONT_HOME=~/.fonts
# ~/.local/share/fonts should be used instead
FONT_HOME=~/.local/share/fonts

echo "installing fonts at $PWD to $FONT_HOME"
mkdir -p "$FONT_HOME/adobe-fonts/source-code-pro"
# find "$FONT_HOME" -iname '*.ttf' -exec echo '{}' \;

(git clone \
   --branch release \
   --depth 1 \
   'https://github.com/adobe-fonts/source-code-pro.git' \
   "$FONT_HOME/adobe-fonts/source-code-pro" &amp;&amp; \
fc-cache -f -v "$FONT_HOME/adobe-fonts/source-code-pro")
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7d813fe" class="outline-2">
<h2 id="org7d813fe">gnome</h2>
<div class="outline-text-2" id="text-org7d813fe">
</div><div id="outline-container-org91a0cb1" class="outline-3">
<h3 id="org91a0cb1">Ubuntu Gnome - force alt + tab to only switch on current workspace</h3>
<div class="outline-text-3" id="text-org91a0cb1">
<p>
<a href="http://askubuntu.com/questions/121126/can-i-alt-tab-windows-from-all-workspaces">http://askubuntu.com/questions/121126/can-i-alt-tab-windows-from-all-workspaces</a>
</p>

<p>
Geborgenheit;;feeling of security
unersetzlich;;irreplaceable
lässig;;casual nonchalant, cool
es schwer;;haben to have a hard time
eichen;;to calibrate
Herzinfarkt;; heart attack
Pfeife;;pipe
ein Kind kriegen;;to have a baby
Zärtlichkeit (die);;fondness, loving affection
blöd;;stupid, dumb
Lüge (die);;lie, tale, untruth
allzeit;; always
furchtbar;;dreadfully, awfully, terribly,
einsam;;lonely, 
Streiter (der);;fighter, wrangler
Krieg (der);;war, 
sonderbar;;strange
egal;;the same, all the same
</p>
</div>
</div>
</div>
<div id="outline-container-orga951d82" class="outline-2">
<h2 id="orga951d82">disk</h2>
<div class="outline-text-2" id="text-orga951d82">
</div><div id="outline-container-org844882a" class="outline-3">
<h3 id="org844882a">partition a disk</h3>
</div>
<div id="outline-container-org07542f6" class="outline-3">
<h3 id="org07542f6">list partitions</h3>
<div class="outline-text-3" id="text-org07542f6">
<div class="org-src-container">
<pre class="src src-shell">$ sudo fdisk -l        #shows all partitions
$ sudo fdisk -l /dev/sda
</pre>
</div>
</div>
</div>

<div id="outline-container-org7cf426f" class="outline-3">
<h3 id="org7cf426f">make partitions</h3>
<div class="outline-text-3" id="text-org7cf426f">
<p>
entering command mode in fdisk
</p>

<div class="org-src-container">
<pre class="src src-shell">$ sudo fdisk /dev/sda
</pre>
</div>

<p>
then type n for new partition.
</p>
</div>
</div>

<div id="outline-container-orgb8bd826" class="outline-3">
<h3 id="orgb8bd826">format a partition</h3>
<div class="outline-text-3" id="text-orgb8bd826">
<div class="org-src-container">
<pre class="src src-shell">mkfs -v -t ext4 /dev/&lt;xxx&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org08420d7" class="outline-3">
<h3 id="org08420d7">make a swap partition</h3>
<div class="outline-text-3" id="text-org08420d7">
<div class="org-src-container">
<pre class="src src-shell">mkswap /dev/&lt;yyy&gt;
</pre>
</div>
<p>
<a href="http://www.tldp.org/HOWTO/Partition/fdisk_partitioning.html">http://www.tldp.org/HOWTO/Partition/fdisk_partitioning.html</a>
</p>
</div>
</div>

<div id="outline-container-org069ebdd" class="outline-3">
<h3 id="org069ebdd">auto mount a partition</h3>
<div class="outline-text-3" id="text-org069ebdd">
<p>
Once a file system is actually mounted , an entry for it is made
by the operating system in the <b>/etc/mtab</b> file.
Automatic mounts are handled by configuration the <b>/etc/fstab</b> file.
</p>

<p>
An entry in an fstab file contains several fields, each
separated by a space or tab.
</p>
</div>
</div>

<div id="outline-container-org4306245" class="outline-3">
<h3 id="org4306245">find UUID of a filesystem</h3>
<div class="outline-text-3" id="text-org4306245">
<p>
Look up data on /dev/sda1:
</p>

<div class="org-src-container">
<pre class="src src-shell">topher@crucible:~$ sudo blkid /dev/sda1
/dev/sda1: UUID="727cac18-044b-4504-87f1-a5aefa774bda" TYPE="ext3"
</pre>
</div>

<p>
Show UUID data for all partitions:
</p>

<div class="org-src-container">
<pre class="src src-shell">topher@crucible:~$ sudo blkid
/dev/sda1: UUID="727cac18-044b-4504-87f1-a5aefa774bda" TYPE="ext3"
/dev/sdb: UUID="467c4aa9-963d-4467-8cd0-d58caaacaff4" TYPE="ext3"
</pre>
</div>

<p>
Show UUID data for all partitions in easier to read format: (Note: in newer
releases, blkid -L has a different meaning, and blkid -o list should be used
instead)
</p>

<div class="org-src-container">
<pre class="src src-shell">topher@crucible:~$ sudo blkid -L
device     fs_type label    mount point    UUID
-------------------------------------------------------------------------------
/dev/sda1 ext3             /              727cac18-044b-4504-87f1-a5aefa774bda
/dev/sdc  ext3             /home          467c4aa9-963d-4467-8cd0-d58caaacaff4
Show just the UUID for /dev/sda1 and nothing else:

topher@crucible:~$ sudo blkid -s UUID -o value /dev/sda1
727cac18-044b-4504-87f1-a5aefa774bda
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd736c28" class="outline-2">
<h2 id="orgd736c28">shell</h2>
<div class="outline-text-2" id="text-orgd736c28">
</div><div id="outline-container-orge007453" class="outline-3">
<h3 id="orge007453">login shell vs non-login shell?</h3>
<div class="outline-text-3" id="text-orge007453">
<p>
When you sit at a terminal and enter a username and password in
response to a prompt from the computer, you get a login
shell. Similarly, when you use ssh hostname, you get a login
shell. However, if you run a shell by name, or implicitly as the
command interpreter named in the initial #! line in a script, or
create a new workstation terminal window, or run a command in a remote
shell with <i>for example, ssh hostname command</i> then that shell is
not a login shell.
</p>
</div>

<div id="outline-container-org4e4cc5c" class="outline-4">
<h4 id="org4e4cc5c">How to check if the shell is a login shell?</h4>
<div class="outline-text-4" id="text-org4e4cc5c">
<p>
The shell determines whether it is a login shell by examining the
value of $0. If the value begins with a hyphen, then the shell is a
login shell; otherwise, it is not. You can tell whether you have a
login shell by this simple experiment:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ echo $0                                  Display shell name
-ksh                                      Yes, this is a login shell
</pre>
</div>
</div>
</div>

<div id="outline-container-orga0cc174" class="outline-4">
<h4 id="orga0cc174">bash login shell startup?</h4>
<div class="outline-text-4" id="text-orga0cc174">
<p>
When bash is a login shell, on startup it does the equivalent of: 
</p>

<div class="org-src-container">
<pre class="src src-shell">test -r /etc/profile &amp;&amp; . /etc/profile              Try to read /etc/profile

if test -r $HOME/.bash_profile ; then               Try three more possibilities

    . $HOME/.bash_profile

elif test -r $HOME/.bash_login ; then

    . $HOME/.bash_login

elif test -r $HOME/.profile ; then

    . $HOME/.profile

fi
</pre>
</div>
</div>
</div>

<div id="outline-container-org018364c" class="outline-4">
<h4 id="org018364c">bash non-login shell initilization?</h4>
<div class="outline-text-4" id="text-org018364c">
<p>
Unlike the Bourne shell, bash reads an initialization file on startup
when it is an interactive nonlogin shell, by steps equivalent to this:
</p>

<div class="org-src-container">
<pre class="src src-shell">test -r $HOME/.bashrc &amp;&amp; . $HOME/.bashrc            Try to read $HOME/.bashrc
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4ba9a59" class="outline-3">
<h3 id="org4ba9a59">change history size?</h3>
<div class="outline-text-3" id="text-org4ba9a59">
<p>
for ubuntu change <code>/.bashrc file variables ~HISTSIZE</code> &amp; <code>HISTFILESIZE</code>
</p>
</div>
</div>
<div id="outline-container-org5892eff" class="outline-3">
<h3 id="org5892eff">adding to path to <code>$PATH</code> envrionment variable</h3>
<div class="outline-text-3" id="text-org5892eff">
<p>
append to <b>/etc/environment</b>
</p>
<ul class="org-ul">
<li>works for non-login shells but not for login-shells</li>
</ul>

<p>
append to <b>/etc/profile</b>
</p>
<ul class="org-ul">
<li>works for login-shells only</li>
</ul>

<p>
append to <b>~/.bashrc</b>
</p>
<ul class="org-ul">
<li>works only for none-login shells</li>
</ul>

<p>
create file at <b>/etc/profile.d</b> and add a file with <b>sh</b> (important) extension eg:
</p>

<p>
PATH=/opt/anaconda3/bin:$PATH
</p>

<ul class="org-ul">
<li>this probably only works in non-login shells</li>
</ul>

<p>
change default path for users at <b>/etc/login.defs</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">ENV_SUPATH      PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin    # for super users
ENV_PATH        PATH=/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
</pre>
</div>

<p>
create <b>~/.bash<sub>profile</sub></b> and call <b>~/.bashrc</b> file like this
</p>
<div class="org-src-container">
<pre class="src src-shell">[[ -r ~/.bashrc ]] &amp;&amp; . ~/.bashrc
</pre>
</div>


<p>
<b>order of bash login init files</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">/bin/bash
       The bash executable
/etc/profile
       The systemwide initialization file, executed for login shells
~/.bash_profile
       The personal initialization file, executed for login shells.Would be used only once, at login.
~/.bashrc
       The individual per-interactive-shell startup file.
~/.bash_logout
       The individual login shell cleanup file, executed when a login shell exits.
~/.inputrc
       Individual readline initialization file.
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfd860a5" class="outline-2">
<h2 id="orgfd860a5">Toolchain</h2>
<div class="outline-text-2" id="text-orgfd860a5">
</div><div id="outline-container-orgc9fef6f" class="outline-3">
<h3 id="orgc9fef6f">Linker</h3>
<div class="outline-text-3" id="text-orgc9fef6f">
</div><div id="outline-container-org4f6311d" class="outline-4">
<h4 id="org4f6311d">dynamic linker, often referred to as dynamic loader vs standard linker <b>ld</b></h4>
<div class="outline-text-4" id="text-org4f6311d">
<p>
Also be aware of the name of the platform's dynamic linker, often
referred to as the dynamic loader (not to be confused with the
standard linker ld that is part of Binutils). The dynamic linker
provided by Glibc finds and loads the shared libraries needed by a
program, prepares the program to run, and then runs it. The name of
the dynamic linker for a 32-bit Intel machine will be ld-linux.so.2
(ld-linux-x86-64.so.2 for 64-bit systems). A sure-fire way to
determine the name of the dynamic linker is to inspect a random binary
from the host system by running: <b>readelf -l &lt;name of binary&gt; | grep interpreter</b>
and noting the output. The authoritative reference
covering all platforms is in the shlib-versions file in the root of
the Glibc source tree.
</p>
</div>
</div>
<div id="outline-container-org5db126f" class="outline-4">
<h4 id="org5db126f">Linker search path</h4>
<div class="outline-text-4" id="text-org5db126f">
<div class="org-src-container">
<pre class="src src-shell">$ ld --verbose | grep SEARCH
</pre>
</div>
<p>
will illustrate the current search paths and their order.
</p>
</div>
</div>

<div id="outline-container-org5c2fb4b" class="outline-4">
<h4 id="org5c2fb4b">To find out which standard linker gcc will use, run:</h4>
<div class="outline-text-4" id="text-org5c2fb4b">
<div class="org-src-container">
<pre class="src src-shell">$ gcc -print-prog-name=l
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org3a8f935" class="outline-2">
<h2 id="org3a8f935">Text processing</h2>
<div class="outline-text-2" id="text-org3a8f935">
</div><div id="outline-container-org80d115e" class="outline-3">
<h3 id="org80d115e">cut</h3>
<div class="outline-text-3" id="text-org80d115e">
</div><div id="outline-container-org9574cac" class="outline-4">
<h4 id="org9574cac">example inputs</h4>
<div class="outline-text-4" id="text-org9574cac">
<div class="org-src-container">
<pre class="src src-shell">&gt; cat file.txt
unix or linux os
is unix good os
is linux good os
</pre>
</div>
</div>
</div>

<div id="outline-container-org6a0068d" class="outline-4">
<h4 id="org6a0068d">Write a unix/linux cut command to print characters by position?</h4>
<div class="outline-text-4" id="text-org6a0068d">
<div class="org-src-container">
<pre class="src src-shell">cut -c4 file.txt
x
u
l
</pre>
</div>

<p>
The above cut command prints the fourth character in each line of the file
</p>
</div>
</div>
<div id="outline-container-org952771d" class="outline-4">
<h4 id="org952771d">Write a unix/linux cut command to print characters by range?</h4>
<div class="outline-text-4" id="text-org952771d">
<div class="org-src-container">
<pre class="src src-shell">cut -c4-7 file.txt
x or
unix
linu
</pre>
</div>
</div>
</div>

<div id="outline-container-orga3ea664" class="outline-4">
<h4 id="orga3ea664">print the first six characters in a line</h4>
<div class="outline-text-4" id="text-orga3ea664">
<div class="org-src-container">
<pre class="src src-shell">cut -c-6 file.txt
unix o
is uni
is lin
</pre>
</div>
</div>
</div>

<div id="outline-container-org97e9754" class="outline-4">
<h4 id="org97e9754">To print the characters from tenth position to the end</h4>
<div class="outline-text-4" id="text-org97e9754">
<div class="org-src-container">
<pre class="src src-shell">cut -c10- file.txt
inux os
ood os
good os
</pre>
</div>
</div>
</div>

<div id="outline-container-org18d29b2" class="outline-4">
<h4 id="org18d29b2">Write a unix/linux cut command to print the fields using the delimiter?</h4>
<div class="outline-text-4" id="text-org18d29b2">
<div class="org-src-container">
<pre class="src src-shell">cut -d' ' -f2 file.txt
or
unix
linux
</pre>
</div>
</div>
</div>

<div id="outline-container-org3fe1b89" class="outline-4">
<h4 id="org3fe1b89">prints the second and third field in each line.</h4>
<div class="outline-text-4" id="text-org3fe1b89">
<div class="org-src-container">
<pre class="src src-shell">cut -d' ' -f2,3 file.txt
or linux
unix good
linux good
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc12eb02" class="outline-4">
<h4 id="orgc12eb02">Write a unix/linux cut command to display range of fields?</h4>
<div class="outline-text-4" id="text-orgc12eb02">
<p>
You can print a range of fields by specifying the start and end position.
</p>

<div class="org-src-container">
<pre class="src src-shell">cut -d' ' -f1-3 file.txt
</pre>
</div>

<p>
The above command prints the first, second and third fields.
</p>
</div>
</div>

<div id="outline-container-orged10ac9" class="outline-4">
<h4 id="orged10ac9">cut by new line?</h4>
<div class="outline-text-4" id="text-orged10ac9">
<div class="org-src-container">
<pre class="src src-shell">cat textfile | cut -f3 -d$'\n'
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgbcaafa2" class="outline-3">
<h3 id="orgbcaafa2">tr</h3>
<div class="outline-text-3" id="text-orgbcaafa2">
</div><div id="outline-container-org346d496" class="outline-4">
<h4 id="org346d496">Replace multiple spaces with one using 'tr' only</h4>
<div class="outline-text-4" id="text-org346d496">
<p>
With tr, use the squeeze repeat option:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ tr -s " " &lt; file
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org3753e34" class="outline-2">
<h2 id="org3753e34">processes</h2>
<div class="outline-text-2" id="text-org3753e34">
</div><div id="outline-container-orgb549a01" class="outline-3">
<h3 id="orgb549a01">checking the priority of a process?</h3>
<div class="outline-text-3" id="text-orgb549a01">
<pre class="example">
ps -o pid,comm,nice -p 594
</pre>
</div>
</div>

<div id="outline-container-org9f5d563" class="outline-3">
<h3 id="org9f5d563">Setting priority on new processes</h3>
<div class="outline-text-3" id="text-org9f5d563">
<pre class="example">
nice -n 10 apt-get upgrade
</pre>

<p>
This will increment the default nice value
by a positive 10 for the command, ‘apt-get upgrade’ This is often
useful for times when you want to upgrade apps but don’t want the
extra process burden at the given time.
</p>
</div>
</div>

<div id="outline-container-orga3381d4" class="outline-3">
<h3 id="orga3381d4">Setting Priority on Existing Processes</h3>
<div class="outline-text-3" id="text-orga3381d4">
<pre class="example">
renice 10 -p 21827
</pre>
</div>
</div>

<div id="outline-container-org2ca586e" class="outline-3">
<h3 id="org2ca586e">Setting Permanent Priority on all Processes for a Specific User</h3>
<div class="outline-text-3" id="text-org2ca586e">
<p>
Sometimes it is helpful to give specific users lower priority than
others to keep system resources allocated in the proper places like
core services and other programs.
</p>

<p>
You can set the default nice value of a particular user or group in
the /etc/security/limits.conf file.
</p>

<pre class="example">
/etc/security/limits.conf
</pre>

<p>
It uses this syntax: [username] [hard|soft] priority [nice value]
</p>

<pre class="example">
backupuser hard priority 1
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd0b8a24" class="outline-2">
<h2 id="orgd0b8a24">tor</h2>
<div class="outline-text-2" id="text-orgd0b8a24">
</div><div id="outline-container-orgba506bb" class="outline-3">
<h3 id="orgba506bb">change ip</h3>
<div class="outline-text-3" id="text-orgba506bb">
<div class="org-src-container">
<pre class="src src-shell">printf "AUTHENTICATE \"password\"\r\nSIGNAL NEWNYM\r\n" | nc 127.0.0.1 9051
</pre>
</div>

<p>
yet another way
</p>

<div class="org-src-container">
<pre class="src src-shell">service tor reload
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgbf9182a" class="outline-2">
<h2 id="orgbf9182a">multimedia</h2>
<div class="outline-text-2" id="text-orgbf9182a">
</div><div id="outline-container-org2d5321a" class="outline-3">
<h3 id="org2d5321a">convert avi to mp4</h3>
<div class="outline-text-3" id="text-org2d5321a">
<div class="org-src-container">
<pre class="src src-shell">avconv -i test.avi -c:v libx264 -c:a copy outputfile.mp4
</pre>
</div>

<p>
use the <code>-threads</code> switch to control the number of threads
</p>

<div class="org-src-container">
<pre class="src src-shell">avconv -i test.avi -c:v libx264 -c:a copy -threads 1  outputfile.mp4
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc0bdd38" class="outline-2">
<h2 id="orgc0bdd38">syslog</h2>
<div class="outline-text-2" id="text-orgc0bdd38">
</div><div id="outline-container-org50e8ef7" class="outline-3">
<h3 id="org50e8ef7">debugging</h3>
<div class="outline-text-3" id="text-org50e8ef7">
<ul class="org-ul">
<li>run the script every 1 minute</li>
<li>make sure that the cron logs to syslog(or rsyslog). In ubuntu it's disabled by default
and it's located at <b>/etc/rsyslog</b></li>
</ul>

<p>
The easiest way is simply to send all STDOUT and STDERR to Syslog
</p>

<div class="org-src-container">
<pre class="src src-shell">    * * * * * echo "test message" 2&gt;&amp;1 |logger

#If you want to debug your bash script just add debug mode to the beginning of your script
set -x

#To ensure your jobs are executed tail on /var/log/cron
$ tail -f /var/log/cron

# To see all the outputs in Syslog
$ tail -f /var/log/messages
</pre>
</div>

<p>
<a href="http://www.emind.co/how-to/how-to-debug-cron-jobs/">http://www.emind.co/how-to/how-to-debug-cron-jobs/</a>
</p>
</div>
</div>
</div>

<div id="outline-container-org75d0b63" class="outline-2">
<h2 id="org75d0b63">number crunching</h2>
<div class="outline-text-2" id="text-org75d0b63">
</div><div id="outline-container-org9d7aa92" class="outline-3">
<h3 id="org9d7aa92">using bc to show control the number of digits after the decimal point?</h3>
<div class="outline-text-3" id="text-org9d7aa92">
<p>
use the <code>scale</code> special variable
</p>

<div class="org-src-container">
<pre class="src src-shell">echo "scale=2; 100/3" | bc
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1ca685d" class="outline-2">
<h2 id="org1ca685d">make a ramdisk?</h2>
<div class="outline-text-2" id="text-org1ca685d">
<p>
The tmpfs filesystem is a RAMDISK.
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo mkdir -p /media/ramdisk
sudo mount -t tmpfs -o size=2048M tmpfs /media/ramdisk
</pre>
</div>

<p>
<a href="http://askubuntu.com/questions/152868/how-do-i-make-a-ram-disk">http://askubuntu.com/questions/152868/how-do-i-make-a-ram-disk</a>
</p>
</div>
</div>
<div id="outline-container-org673533b" class="outline-2">
<h2 id="org673533b">curl</h2>
<div class="outline-text-2" id="text-org673533b">
</div><div id="outline-container-orgc651cf5" class="outline-3">
<h3 id="orgc651cf5">Fetching a Page with cURL</h3>
<div class="outline-text-3" id="text-orgc651cf5">
<div class="org-src-container">
<pre class="src src-shell"># basic invocation
curl -o example.html http://www.example.com/
# fetch a secure web page
curl -k -o example-secure.html https://www.example.com/
# fetch a file by FTP. This time, have curl automatically
# pick the output filename
curl -O ftp://ftp.example.com/pub/download/file.zip
</pre>
</div>
</div>
</div>

<div id="outline-container-orgef40843" class="outline-3">
<h3 id="orgef40843">Fetching Many Variations on a URL</h3>
<div class="outline-text-3" id="text-orgef40843">
<div class="org-src-container">
<pre class="src src-shell"># Fetch all the categories from 00 to 99.
curl -o 'category-#1#2.html' 'http://www.example.com/category.php?CATID=[0-9][0-9]'
curl -o 'category-#1.html' 'http://www.example.com/category.php?CATID=[0-99]'
# Fetch several main pages and store them in files named accordingly
curl -o '#1.html' 'http://www.example.com/{news,blog,careers,contact,sitemap}/'
</pre>
</div>
</div>
</div>

<div id="outline-container-org2f5f3c9" class="outline-3">
<h3 id="org2f5f3c9">Following Redirects Automatically</h3>
<div class="outline-text-3" id="text-org2f5f3c9">
<div class="org-src-container">
<pre class="src src-shell">curl -L -e ';auto' -o 'output.html' 'http://www.example.com/login.jsp'
</pre>
</div>

<p>
You typically need to use a combination of -L and -e
';auto' simultaneously to achieve the effect you want. The -L option
tells cURL to follow redirect responses. The -e ';auto' option tells
it to pass the Referer header when it follows them. This more closely
matches the behavior of real web browsers.
</p>
</div>
</div>

<div id="outline-container-org509a260" class="outline-3">
<h3 id="org509a260">send cookie with curl?</h3>
<div class="outline-text-3" id="text-org509a260">
<div class="org-src-container">
<pre class="src src-shell">curl -v --cookie "USER_TOKEN=Yes" http://127.0.0.1:5000/
</pre>
</div>
</div>
</div>

<div id="outline-container-orgef595e1" class="outline-3">
<h3 id="orgef595e1">make an options request</h3>
<div class="outline-text-3" id="text-orgef595e1">
<div class="org-src-container">
<pre class="src src-shell">curl -i -X OPTIONS http://example.org/path
</pre>
</div>
</div>
</div>

<div id="outline-container-org2147300" class="outline-3">
<h3 id="org2147300">make a head request</h3>
<div class="outline-text-3" id="text-org2147300">
<div class="org-src-container">
<pre class="src src-shell">curl --head http://example.org
</pre>
</div>
</div>
</div>

<div id="outline-container-org68f29ce" class="outline-3">
<h3 id="org68f29ce">make an options request</h3>
<div class="outline-text-3" id="text-org68f29ce">
<div class="org-src-container">
<pre class="src src-shell">curl -i -X OPTIONS http://example.org/path
</pre>
</div>
</div>
</div>

<div id="outline-container-org45f8c13" class="outline-3">
<h3 id="org45f8c13">set a header</h3>
<div class="outline-text-3" id="text-org45f8c13">
<div class="org-src-container">
<pre class="src src-shell">curl --header "X-MyHeader: 123" www.google.com
echo "0217"$(date +%Y-%m-%d-%H-%M-%S-%N) | tr -d "-" | php -r 'echo substr(file("php://stdin")[0],0,20);'
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd04d9f8" class="outline-3">
<h3 id="orgd04d9f8">post request</h3>
<div class="outline-text-3" id="text-orgd04d9f8">
<div class="org-src-container">
<pre class="src src-shell">#With fields:

curl --data "param1=value1&amp;param2=value2" https://example.com/resource.cgi

#Multipart:

curl --form "fileupload=@my-file.txt" https://example.com/resource.cgi

#Multipart with fields and a filename:

curl --form "fileupload=@my-file.txt;filename=desired-filename.txt" --form param1=value1 --form param2=value2 https://example.com/resource.cgi

#Without data:

curl --data '' https://example.com/resource.cgi

curl -X POST https://example.com/resource.cgi

curl --request POST https://example.com/resource.cgi

#For large files, consider adding parameters to show upload progress:

curl --tr-encoding -X POST -v -# -o output -T filename.dat  http://example.com/resource.cgi

#The -o output is required, otherwise no progress bar will appear.
</pre>
</div>
</div>

<div id="outline-container-orge2bc925" class="outline-4">
<h4 id="orge2bc925">links</h4>
<div class="outline-text-4" id="text-orge2bc925">
<p>
<a href="https://curl.haxx.se/docs/httpscripting.html">https://curl.haxx.se/docs/httpscripting.html</a>
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgb8c61a5" class="outline-2">
<h2 id="orgb8c61a5">grub</h2>
<div class="outline-text-2" id="text-orgb8c61a5">
</div><div id="outline-container-orgfce28fa" class="outline-3">
<h3 id="orgfce28fa">grub change timeout</h3>
<div class="outline-text-3" id="text-orgfce28fa">
<div class="org-src-container">
<pre class="src src-shell">$ sudo vim /etc/default/grub
</pre>
</div>

<p>
and set the <b>GRUB<sub>TIMEOUT</sub></b>. 
-1 will disable it. And then run
</p>

<div class="org-src-container">
<pre class="src src-shell">$ sudo update-grub
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaec7ccb" class="outline-3">
<h3 id="orgaec7ccb">Repair grub</h3>
<div class="outline-text-3" id="text-orgaec7ccb">
<p>
So you broke grub? Boot from a live cd, [find your linux partition
under /dev and use fdisk to find the linux partion] mount the linux
partition, add /proc and /dev and use grub-install /dev/xyz. Suppose
linux lies on /dev/sda4:
</p>

<div class="org-src-container">
<pre class="src src-shell"># mount /dev/sda6 /mnt                   # mount the linux partition on /mnt
# mount --bind /proc /mnt/proc       # mount the proc subsystem into /mnt
# mount --bind /dev /mnt/dev          # mount the devices into /mnt
# chroot /mnt                                      # change root to the linux partition
# grub-install /dev/sda                     # reinstall grub with your old settings
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2c5c367" class="outline-2">
<h2 id="org2c5c367">listing broken packages?</h2>
<div class="outline-text-2" id="text-org2c5c367">
<div class="org-src-container">
<pre class="src src-shell">$ sudo apt-get check
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb4cc118" class="outline-2">
<h2 id="orgb4cc118">completely remove a package with configurations</h2>
<div class="outline-text-2" id="text-orgb4cc118">
<div class="org-src-container">
<pre class="src src-shell">$ sudo apt-get purge &lt;package_name&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org5baa767" class="outline-2">
<h2 id="org5baa767">deleting broken packages?</h2>
<div class="outline-text-2" id="text-org5baa767">
<p>
use synaptic package manager.
</p>

<div class="org-src-container">
<pre class="src src-shell">$ sudo dpkg -P package_name			# -P for purge
</pre>
</div>
</div>
</div>

<div id="outline-container-org84e3e1a" class="outline-2">
<h2 id="org84e3e1a">sudo timeout</h2>
<div class="outline-text-2" id="text-org84e3e1a">
<p>
use <code>visudo</code> to edit <code>/etc/sudoers</code> file. It validates the file upon exit and
locks the file while it's being edited.
</p>

<div class="org-src-container">
<pre class="src src-shell">$ sudo visudo
</pre>
</div>

<p>
to increase the timeout to 30 minutes for user jsmith, you would put
in a line as follows at the bottom of the file:
</p>

<pre class="example">
Defaults:jsmith timestamp_timeout=30
</pre>

<p>
The timestamp<sub>timeout</sub> defines the number of minutes that can elapse
before sudo will ask for a password again.
</p>

<p>
<code>timestamp_timeout=0</code> makes the sudo password to expire every 0(zero) seconds.
<code>timestamp_timeout=-1</code> makes the suo password not expire.  
</p>

<p>
<b>increasing timeout</b>
You can extend the timeout for another 5minutes(or whatever the value of <code>timestamp_timeout=-1</code>
is for you) using <code>sudo -v</code>.
</p>

<p>
see more : <code>man 5 sudoers</code>
</p>
</div>
</div>

<div id="outline-container-org089903f" class="outline-2">
<h2 id="org089903f">How can I get the recoll package to index markdown (.md) files?</h2>
<div class="outline-text-2" id="text-org089903f">
<p>
Edit <code>~/.recoll/mimemap</code>, add the following line:
</p>

<p>
<code>.md = text/plain</code>
</p>

<p>
This will tell recoll to index markdown as normal text, which it is, mostly, 
so I think that things should "just work".
</p>
</div>
</div>

<div id="outline-container-org636f693" class="outline-2">
<h2 id="org636f693">json pretty print</h2>
<div class="outline-text-2" id="text-org636f693">
<div class="org-src-container">
<pre class="src src-shell">$ cat some.json | python -m json.tool
</pre>
</div>
</div>
</div>

<div id="outline-container-orga12800c" class="outline-2">
<h2 id="orga12800c">installation</h2>
<div class="outline-text-2" id="text-orga12800c">
</div><div id="outline-container-org17375b5" class="outline-3">
<h3 id="org17375b5">other useful php modules</h3>
<div class="outline-text-3" id="text-org17375b5">
<div class="org-src-container">
<pre class="src src-shell">$ sudo apt-get install php-soap
$ sudo apt-get install php-ssh2
$ sudo apt-get install php-cli
$ sudo apt-get install php-mbstring
</pre>
</div>
</div>
</div>

<div id="outline-container-org38c0f17" class="outline-3">
<h3 id="org38c0f17">starting windows in safe mode from grub</h3>
<div class="outline-text-3" id="text-org38c0f17">
<p>
for windows xp or 7 repeatedly press <b>F8</b> when you select the windows
item.
</p>
</div>
</div>

<div id="outline-container-org5cfa026" class="outline-3">
<h3 id="org5cfa026">making windows usb boot in ubuntu</h3>
<div class="outline-text-3" id="text-org5cfa026">
<div class="org-src-container">
<pre class="src src-shell">$ sudo apt-get install unetbootin
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcf2c333" class="outline-3">
<h3 id="orgcf2c333">ubuntu installation</h3>
<div class="outline-text-3" id="text-orgcf2c333">
<p>
for installattion make an <b>ext4</b> partition as the primary and a <b>swap</b>
partition as logical drive.
</p>

<p>
when ubuntu is installed run <b>sudo update-grub</b> if the windows is not
shown in the grub boot list.
</p>
</div>
</div>

<div id="outline-container-org260ffd9" class="outline-3">
<h3 id="org260ffd9">tell which package does a file belong to?</h3>
<div class="outline-text-3" id="text-org260ffd9">
<div class="org-src-container">
<pre class="src src-shell">$ dpkg -S libgthread-2.0.so.0
</pre>
</div>
</div>
</div>

<div id="outline-container-orgde9f2a5" class="outline-3">
<h3 id="orgde9f2a5">apt-cacher-ng</h3>
<div class="outline-text-3" id="text-orgde9f2a5">
</div><div id="outline-container-orgc67a3e1" class="outline-4">
<h4 id="orgc67a3e1">installing apt-cacher-ng</h4>
<div class="outline-text-4" id="text-orgc67a3e1">
<p>
add <b>00aptproxy</b> to <b><i>etc/apt/apt.conf.d</i></b> and add the following lines
</p>

<pre class="example">
Acquire::http::Proxy "http://127.0.0.1:3142";
</pre>


<p>
make <b>_import</b> folder in <b>/var/cache/apt-cache-ng/<sub>import</sub></b> copy your
deb files in <b>_import</b> and and goto <b>localhost:3142</b> and hit import.
</p>
</div>
</div>

<div id="outline-container-orgbc16ac7" class="outline-4">
<h4 id="orgbc16ac7">precaching for ubuntu xenial</h4>
<div class="outline-text-4" id="text-orgbc16ac7">
<p>
add <code>PrecacheFor: uburep/dists/xenial/*/binary-amd64/Packages*</code> to the
PreCache section located at <code>/etc/apt-cacher-ng/acng.conf</code>.
</p>

<p>
for scheduling the process use
</p>
<div class="org-src-container">
<pre class="src src-shell">wget "http://localhost:3142/acng-report.html?abortOnErrors=aOe&amp;calcSize=cs&amp;doDownload=dd&amp;doMirror=Start+Mirroring#bottom"
</pre>
</div>

<p>
to start apt-cacher-ng in foreground
</p>
<div class="org-src-container">
<pre class="src src-shell">$ sudo apt-cacher-ng -c /etc/apt-cacher-ng/ Port=3142 ForeGround=1 VerboseLog=1
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org46d7f4e" class="outline-3">
<h3 id="org46d7f4e">installing postgresql in ubuntu 16.0</h3>
<div class="outline-text-3" id="text-org46d7f4e">
<div class="org-src-container">
<pre class="src src-shell">$ sudo apt-get install postgresql postgresql-contrib
</pre>
</div>

<p>
Now that we can connect to our PostgreSQL server, the next step is to
set a password for the postgres user. Run the following command at a
terminal prompt to connect to the default PostgreSQL template
database:
</p>
<div class="org-src-container">
<pre class="src src-shell">$ sudo -u postgres psql template1
</pre>
</div>

<p>
The above command connects to PostgreSQL database template1 as user
postgres. Once you connect to the PostgreSQL server, you will be at a
SQL prompt. You can run the following SQL command at the psql prompt
to configure the password for the user postgres.
</p>
<div class="org-src-container">
<pre class="src src-sql">ALTER USER postgres with encrypted password 'your_password';
</pre>
</div>

<p>
Upon installation Postgres is set up to use ident authentication,
which means that it associates Postgres roles with a matching
Unix/Linux system account.
</p>

<p>
The installation procedure created a user account called postgres that
is associated with the default Postgres role.  Switch over to the
postgres account on your server by typing:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ sudo -i -u postgres
</pre>
</div>

<p>
You can now access a Postgres prompt immediately by typing:
</p>
<div class="org-src-container">
<pre class="src src-shell">psql
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc2217bf" class="outline-3">
<h3 id="orgc2217bf">php modules for connecting to postgresql</h3>
<div class="outline-text-3" id="text-orgc2217bf">
<p>
connecting to <b>postgresql</b> with <b>PDO</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">$ sudo apt-get install php-pgsql
</pre>
</div>

<p>
Or if the package is installed, you need to enable the module in php.ini
</p>

<div class="org-src-container">
<pre class="src src-shell">extension=php_pgsql.dll (windows)
extension=php_pgsql.so (linux)
</pre>
</div>
</div>
</div>

<div id="outline-container-org36a620b" class="outline-3">
<h3 id="org36a620b">phpstorm bad gateway in phpstorm</h3>
<div class="outline-text-3" id="text-org36a620b">
<p>
try installing
</p>

<div class="org-src-container">
<pre class="src src-shell">$ sudo apt-get install php-cgi
</pre>
</div>
</div>
</div>

<div id="outline-container-orgedf35b0" class="outline-3">
<h3 id="orgedf35b0">nodjs</h3>
<div class="outline-text-3" id="text-orgedf35b0">
<p>
How to install Node.js via binary archive on Linux?
</p>

<p>
Unzip the binary archive to any directory you wanna install Node, I use /usr/lib/nodejs
</p>

<p>
sudo mkdir /usr/lib/nodejs
sudo tar -xJvf node-v6.5.0-linux-x64.tar.xz -C /usr/lib/nodejs
sudo mv node-v6.5.0-linux-x64 node-v6.5.0
Set the environment variable ~/.profile, add below to the end
</p>

<p>
export NODEJS<sub>HOME</sub>=/usr/lib/nodejs/node-v6.5.0
export PATH=$NODEJS<sub>HOME</sub>/bin:$PATH
</p>

<p>
Test installation using
</p>

<p>
$ node -v
</p>

<p>
$ npm version
</p>

<p>
the normal output is:
</p>

<p>
➜  nodejs node -v
v6.5.0
➜  nodejs npm version
{ npm: '3.10.3',
ares: '1.10.1-DEV',
http<sub>parser</sub>: '2.7.0',
icu: '57.1',
modules: '48',
node: '6.5.0',
openssl: '1.0.2h',
uv: '1.9.1',
v8: '5.1.281.81',
zlib: '1.2.8' }
</p>
</div>
</div>

<div id="outline-container-org0ad91e9" class="outline-3">
<h3 id="org0ad91e9">nvidia binary driver screen flickering</h3>
<div class="outline-text-3" id="text-org0ad91e9">
<p>
Install Compiz Config, from a terminal, type:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ sudo apt-get install compizconfig-settings-manager
</pre>
</div>

<p>
From the launcher, execute CompizConfig Settings Manager Check the
checkbox in "Utility -&gt; Workarounds -&gt; Force full screen redraws
(buffer swap) on repaint"
</p>
</div>
</div>
</div>

<div id="outline-container-orgfec2626" class="outline-2">
<h2 id="orgfec2626">postgresql</h2>
<div class="outline-text-2" id="text-orgfec2626">
</div><div id="outline-container-org32e9082" class="outline-3">
<h3 id="org32e9082">installation</h3>
<div class="outline-text-3" id="text-org32e9082">
<div class="org-src-container">
<pre class="src src-shell">$ sudo apt-get update
$ sudo apt-get install postgresql postgresql-contrib
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb1fb853" class="outline-3">
<h3 id="orgb1fb853">Switching Over to the postgres Account</h3>
<div class="outline-text-3" id="text-orgb1fb853">
<div class="org-src-container">
<pre class="src src-shell">sudo -i -u postgres
</pre>
</div>
</div>


<div id="outline-container-org06b160a" class="outline-4">
<h4 id="org06b160a">refs</h4>
<div class="outline-text-4" id="text-org06b160a">
<p>
<a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-postgresql-on-ubuntu-16-04">https://www.digitalocean.com/community/tutorials/how-to-install-and-use-postgresql-on-ubuntu-16-04</a>
</p>
</div>
</div>
</div>

<div id="outline-container-org572b3da" class="outline-3">
<h3 id="org572b3da">Accessing a Postgres Prompt Without Switching Account</h3>
<div class="outline-text-3" id="text-org572b3da">
<div class="org-src-container">
<pre class="src src-shell">$ sudo -u postgres psql
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc13cd62" class="outline-3">
<h3 id="orgc13cd62">creating a new role with <code>createuser</code></h3>
<div class="outline-text-3" id="text-orgc13cd62">
<p>
If you are logged in as the postgres account, you can create a new user by typing:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ createuser --interactive
</pre>
</div>

<p>
If, instead, you prefer to use sudo for each command without switching
from your normal account, you can type:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ sudo -u postgres createuser --interactive
</pre>
</div>

<p>
The script will prompt you with some choices and, based on your
responses, execute the correct Postgres commands to create a user to
your specifications.
</p>

<pre class="example">
Output
Enter name of role to add: sammy
Shall the new role be a superuser? (y/n) y
</pre>
</div>
</div>

<div id="outline-container-org6996de1" class="outline-3">
<h3 id="org6996de1">creating a new db with <code>createdb</code></h3>
<div class="outline-text-3" id="text-org6996de1">
<p>
By default, another assumption that the Postgres authentication system
makes is that there will be an database with the same name as the role
being used to login, which the role has access to.
</p>

<p>
So if in the last section, we created a user called sammy, that role
will attempt to connect to a database which is also called sammy by
default. You can create the appropriate database with the createdb
command.
</p>

<p>
If you are logged in as the postgres account, you would type something like:
</p>

<div class="org-src-container">
<pre class="src src-shell">postgres@server:~$ createdb sammy
</pre>
</div>

<p>
If, instead, you prefer to use sudo for each command without switching
from your normal account, you would type:
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo -u postgres createdb sammy
</pre>
</div>
</div>
</div>

<div id="outline-container-org146722b" class="outline-3">
<h3 id="org146722b">psql</h3>
<div class="outline-text-3" id="text-org146722b">
</div><div id="outline-container-org4b170b9" class="outline-4">
<h4 id="org4b170b9">list all dbs and users?</h4>
<div class="outline-text-4" id="text-org4b170b9">
<p>
\l
</p>
</div>
</div>
<div id="outline-container-orgdd48551" class="outline-4">
<h4 id="orgdd48551">PostgreSQL “DESCRIBE TABLE”</h4>
<div class="outline-text-4" id="text-orgdd48551">
<p>
\d+ tablename
</p>
</div>
</div>
</div>

<div id="outline-container-org84dc154" class="outline-3">
<h3 id="org84dc154">create autoincrement column</h3>
<div class="outline-text-3" id="text-org84dc154">
<p>
The data types serial and bigserial are not true types, but merely a
notational convenience for creating unique identifier columns (similar
to the AUTO<sub>INCREMENT</sub> property supported by some other databases). In
the current implementation, specifying:
</p>

<div class="org-src-container">
<pre class="src src-sql">CREATE TABLE tablename (
    colname SERIAL
);
</pre>
</div>


<p>
is equivalent to specifying:
</p>

<div class="org-src-container">
<pre class="src src-sql">CREATE SEQUENCE tablename_colname_seq;
CREATE TABLE tablename (
    colname integer NOT NULL DEFAULT nextval('tablename_colname_seq')
);

ALTER SEQUENCE tablename_colname_seq OWNED BY tablename.colname;
</pre>
</div>
</div>
</div>

<div id="outline-container-org907733f" class="outline-3">
<h3 id="org907733f">Accessing a Postgres Prompt Without Switching Accounts</h3>
</div>
<div id="outline-container-orgdefed12" class="outline-3">
<h3 id="orgdefed12">backup with pg<sub>dump</sub></h3>
<div class="outline-text-3" id="text-orgdefed12">
<div class="org-src-container">
<pre class="src src-shell">$ /usr/local/bin/pg_dump shahkar -U pgsql &gt; /root/farahoosh/shahkar-db-backup/`date +%Y-%m-%d-%H:%M:%S`.sql
</pre>
</div>

<p>
You can also run the command you'd like with the postgres account
directly with sudo.
</p>

<div class="org-src-container">
<pre class="src src-shell">$ sudo -u postgres psql
</pre>
</div>
</div>
</div>

<div id="outline-container-orge2b89b7" class="outline-3">
<h3 id="orge2b89b7">create UUID without extension</h3>
<div class="outline-text-3" id="text-orge2b89b7">
<div class="org-src-container">
<pre class="src src-sql">SELECT uuid_in(md5(random()::text || now()::text)::cstring);
</pre>
</div>

<p>
<a href="http://stackoverflow.com/questions/12505158/generating-a-uuid-in-postgres-for-insert-statement">http://stackoverflow.com/questions/12505158/generating-a-uuid-in-postgres-for-insert-statement</a>
</p>
</div>
</div>

<div id="outline-container-org16da57d" class="outline-3">
<h3 id="org16da57d">get list of installed extensions?</h3>
<div class="outline-text-3" id="text-org16da57d">
<div class="org-src-container">
<pre class="src src-sql">SELECT * FROM pg_available_extensions;
</pre>
</div>
</div>
</div>

<div id="outline-container-org1df6509" class="outline-3">
<h3 id="org1df6509">copying postgresql database to another server</h3>
<div class="outline-text-3" id="text-org1df6509">
<div class="org-src-container">
<pre class="src src-shell">$ pg_dump -C -h localhost -U localuser dbname | psql -h remotehost -U remoteuser dbname
# from remote host
$ pg_dump -C -h remotehost -U remoteuser dbname | psql -h localhost -U localuser dbname
# with compression
$ pg_dump -C dbname | bzip2 | ssh  remoteuser@remotehost "bunzip2 | psql dbname"
$ pg_dump -C dbname | ssh -C remoteuser@remotehost "psql dbname"
</pre>
</div>
</div>
</div>

<div id="outline-container-org65c4cfa" class="outline-3">
<h3 id="org65c4cfa">active connections to the database</h3>
<div class="outline-text-3" id="text-org65c4cfa">
<div class="org-src-container">
<pre class="src src-sql">select * from pg_stat_activity;
</pre>
</div>
</div>
</div>

<div id="outline-container-orga673689" class="outline-3">
<h3 id="orga673689">rename postgresql database</h3>
<div class="outline-text-3" id="text-orga673689">
<div class="org-src-container">
<pre class="src src-sql">alter &lt;db_name&gt; rename to &lt;new_db_name&gt;;
</pre>
</div>
</div>
</div>

<div id="outline-container-org18447dd" class="outline-3">
<h3 id="org18447dd">which version of <code>postgresql</code> am I running?</h3>
<div class="outline-text-3" id="text-org18447dd">
<div class="org-src-container">
<pre class="src src-shell">$ pg_config --version
#Client version:
$ psql --version

#  using psql
$psql
postgres=# \g
postgres=# SELECT version();
</pre>
</div>
</div>
</div>

<div id="outline-container-org55e1623" class="outline-3">
<h3 id="org55e1623">restoring database with <code>psql</code></h3>
<div class="outline-text-3" id="text-org55e1623">
<div class="org-src-container">
<pre class="src src-shell">$ createdb dbname
$ cat filename* | psql dbname
</pre>
</div>

<p>
<a href="https://www.postgresql.org/docs/8.1/static/backup.html">https://www.postgresql.org/docs/8.1/static/backup.html</a>
</p>
</div>
</div>

<div id="outline-container-orge72fe4c" class="outline-3">
<h3 id="orge72fe4c">connect to <code>postgresql</code> database in local host without password</h3>
<div class="outline-text-3" id="text-orge72fe4c">
<div class="org-src-container">
<pre class="src src-shell">$ locate pg_hba.conf
$ vim /path/to/pg_hba.conf
</pre>
</div>

<p>
change METHOD to <code>trust</code>
</p>

<pre class="example">
TYPE  DATABASE        USER            ADDRESS                 METHOD
host    all             all             127.0.0.1/32            trust
</pre>
</div>
</div>

<div id="outline-container-orgc2d6d73" class="outline-3">
<h3 id="orgc2d6d73">How to reload config settings without restarting database</h3>
<div class="outline-text-3" id="text-orgc2d6d73">
<p>
if you are making modifications to the Postgres configuration file
postgresql.conf (or similar), and you want to new settings to take effect
without needing to restart the entire database, there are two ways to accomplish
this.
</p>

<p>
Option 1: From the command-line shell
</p>

<div class="org-src-container">
<pre class="src src-shell">$ su - postgres
$ /usr/bin/pg_ctl reload
</pre>
</div>

<p>
Option 2: Using SQL
</p>

<pre class="example">
SELECT pg_reload_conf();
</pre>
</div>
</div>

<div id="outline-container-orgd982f62" class="outline-3">
<h3 id="orgd982f62">backup</h3>
<div class="outline-text-3" id="text-orgd982f62">
</div><div id="outline-container-org5e0be37" class="outline-4">
<h4 id="org5e0be37">intro</h4>
<div class="outline-text-4" id="text-org5e0be37">
<p>
<b>Logical backups</b>: A logical backup refers to the dump file that is created by the
pg<sub>dump</sub> utility and which might be used to restore the database in the case of a
data loss or an accidental deletion of a database object, such as a table. The
pg<sub>dump</sub> utility is a PostgreSQL specific utility that can be run on the command
line, which makes a connection to the database and initiates the logical backup.
</p>

<p>
<b>Physical backups</b>: A physical backup refers to the OS level backup of a database
directory and its associated files.
</p>
</div>
</div>

<div id="outline-container-org69f2795" class="outline-4">
<h4 id="org69f2795">backup a single database</h4>
<div class="outline-text-4" id="text-org69f2795">
<div class="org-src-container">
<pre class="src src-shell">$ pg_dump -U username -W -F t database_name &gt; [Backup Location Path]
</pre>
</div>

<p>
The usage of the options used with the pg<sub>dump</sub> command is explained here:
</p>

<p>
<b>U switch</b>: The -U switch specifies the database user initiating the connection.
As pg<sub>dump</sub> is a command-line utility, we need to specify the username via which
the pg<sub>dump</sub> utility can make a database connection.
</p>

<p>
<b>W switch</b>: This option is not mandatory. This option forces pg<sub>dump</sub> to prompt for
the password before connecting to the PostgreSQL database server. After you
press Enter, pg<sub>dump</sub> will prompt for the password of the database user from
which the connection is initiated.
</p>

<p>
<b>F switch</b>: The -F switch specifies the output file format that will be used. We
specified the t option with the -F switch because the output file will be
implemented as a tar format archive file.
</p>
</div>
</div>
<div id="outline-container-org5186708" class="outline-4">
<h4 id="org5186708">logical backup of all databases</h4>
<div class="outline-text-4" id="text-org5186708">
<p>
to back up all the databases in one go in Linux, use the pg<sub>dumpall</sub> command, as
follows:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ pg_dumpall -U postgres &gt;   /home/pgbackup/all.sql
</pre>
</div>

<p>
To back up all object definitions in all the databases, including roles,
tablespaces, databases, schemas, tables, indexes, triggers, functions,
constraints, views, ownership, and privileges, you can use the following command
in Windows:
</p>

<div class="org-src-container">
<pre class="src src-shell">$fpg_dumpall --schema-only &gt; c:\pgdump\definitiononly.sql
</pre>
</div>

<p>
If you want to back up the role definition only, use the following command:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ pg_dumpall --roles-only &gt; c:\pgdump\myroles.sql
</pre>
</div>

<p>
If you want to back up tablespace definitions, use the following command:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ pg_dumpall --tablespaces-only &gt; c:\pgdump\mytablespaces.sql
</pre>
</div>
</div>
</div>

<div id="outline-container-org4f91c3a" class="outline-4">
<h4 id="org4f91c3a">taking a base backup</h4>
<div class="outline-text-4" id="text-org4f91c3a">
<p>
You can use the pg<sub>basebackup</sub> command in the following manner:
</p>

<div class="org-src-container">
<pre class="src src-shell">$ pg_basebackup -h 192.168.10.14 -D /home/abcd/pgsql/data
</pre>
</div>

<p>
Here, we take a base backup of the server located at 192.168.10.14 and store it
in the /home/abcd/pgsql/data local directory.
</p>
</div>
</div>
</div>
<div id="outline-container-org822f56d" class="outline-3">
<h3 id="org822f56d">examplg <code>pg_hba.conf</code></h3>
<div class="outline-text-3" id="text-org822f56d">
<pre class="example">
Example pg_hba.conf Entries

# Allow any user on the local system to connect to any database with
# any database user name using Unix-domain sockets (the default for local
# connections).
#
# TYPE  DATABASE        USER            ADDRESS                 METHOD
local   all             all                                     trust

# The same using local loopback TCP/IP connections.
#
# TYPE  DATABASE        USER            ADDRESS                 METHOD
host    all             all             127.0.0.1/32            trust

# The same as the previous line, but using a separate netmask column
#
# TYPE  DATABASE        USER            IP-ADDRESS      IP-MASK             METHOD
host    all             all             127.0.0.1       255.255.255.255     trust

# The same over IPv6.
#
# TYPE  DATABASE        USER            ADDRESS                 METHOD
host    all             all             ::1/128                 trust

# The same using a host name (would typically cover both IPv4 and IPv6).
#
# TYPE  DATABASE        USER            ADDRESS                 METHOD
host    all             all             localhost               trust

# Allow any user from any host with IP address 192.168.93.x to connect
# to database "postgres" as the same user name that ident reports for
# the connection (typically the operating system user name).
#
# TYPE  DATABASE        USER            ADDRESS                 METHOD
host    postgres        all             192.168.93.0/24         ident

# Allow any user from host 192.168.12.10 to connect to database
# "postgres" if the user's password is correctly supplied.
#
# TYPE  DATABASE        USER            ADDRESS                 METHOD
host    postgres        all             192.168.12.10/32        md5

# Allow any user from hosts in the example.com domain to connect to
# any database if the user's password is correctly supplied.
#
# TYPE  DATABASE        USER            ADDRESS                 METHOD
host    all             all             .example.com            md5

# In the absence of preceding "host" lines, these two lines will
# reject all connections from 192.168.54.1 (since that entry will be
# matched first), but allow Kerberos 5 connections from anywhere else
# on the Internet.  The zero mask causes no bits of the host IP
# address to be considered, so it matches any host.
#
# TYPE  DATABASE        USER            ADDRESS                 METHOD
host    all             all             192.168.54.1/32         reject
host    all             all             0.0.0.0/0               krb5

# Allow users from 192.168.x.x hosts to connect to any database, if
# they pass the ident check.  If, for example, ident says the user is
# "bryanh" and he requests to connect as PostgreSQL user "guest1", the
# connection is allowed if there is an entry in pg_ident.conf for map
# "omicron" that says "bryanh" is allowed to connect as "guest1".
#
# TYPE  DATABASE        USER            ADDRESS                 METHOD
host    all             all             192.168.0.0/16          ident map=omicron

# If these are the only three lines for local connections, they will
# allow local users to connect only to their own databases (databases
# with the same name as their database user name) except for administrators
# and members of role "support", who can connect to all databases.  The file
# $PGDATA/admins contains a list of names of administrators.  Passwords
# are required in all cases.
#
# TYPE  DATABASE        USER            ADDRESS                 METHOD
local   sameuser        all                                     md5
local   all             @admins                                 md5
local   all             +support                                md5

# The last two lines above can be combined into a single line:
local   all             @admins,+support                        md5

# The database column can also use lists and file names:
local   db1,db2,@demodbs  all                                   md5
</pre>
</div>
</div>

<div id="outline-container-org256616f" class="outline-3">
<h3 id="org256616f">connect to <code>psql</code> without password</h3>
<div class="outline-text-3" id="text-org256616f">
<p>
After installation, open <code>&lt;PostgreSQL PATH&gt;\data\pg_hba.conf</code>.
Modify these two lines, and change "md5" to "trust":
</p>

<pre class="example">
host    all             all             127.0.0.1/32            md5
host    all             all             ::1/128                 md5
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc03fae8" class="outline-2">
<h2 id="orgc03fae8">phppgadmin</h2>
<div class="outline-text-2" id="text-orgc03fae8">
<p>
<b>installing phppgadmin and configuring Postgresql user</b>
</p>
<div class="org-src-container">
<pre class="src src-shell">$ sudo apt-get install phppgadmin
$ sudo su posgtres                    #login as postgres
$ psql                
$ \password posgres                   # change password for postgres role
$ \q
</pre>
</div>

<p>
<b>configuring apache2</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">$ cd /etc/apache2/conf-available/
$ nano phppgadmin.conf
</pre>
</div>

<p>
Comment out the line <code>#Require local</code> by adding a # in front of the line
and add below the line <code>allow from all</code> so that you can access from your
browser.
</p>

<p>
<b>configuring phppgadmin</b>
Edit the file /etc/phppgadmin/config.inc.php by typing :
</p>

<div class="org-src-container">
<pre class="src src-shell">cd /etc/phppgadmin/
nano config.inc.php
</pre>
</div>

<p>
Find the line <code>$conf['extra_login_security'] = true;</code> and change the
value to false so you can login to phpPgAdmin with user postgres.
</p>

<div class="org-src-container">
<pre class="src src-shell">systemctl restart postgresql
systemctl restart apache2
</pre>
</div>
</div>
</div>

<div id="outline-container-org8a9b405" class="outline-2">
<h2 id="org8a9b405">working with Base64</h2>
<div class="outline-text-2" id="text-org8a9b405">
</div><div id="outline-container-org7db6264" class="outline-3">
<h3 id="org7db6264">Decode a string</h3>
<div class="outline-text-3" id="text-org7db6264">
<div class="org-src-container">
<pre class="src src-shell">% echo 'Q29uZ3JhdHVsYXRpb25zIQ==' | openssl base64 -d
</pre>
</div>
</div>
</div>

<div id="outline-container-org4a0de31" class="outline-3">
<h3 id="org4a0de31">Encode the entire contents of a file</h3>
<div class="outline-text-3" id="text-org4a0de31">
<div class="org-src-container">
<pre class="src src-shell">% openssl base64 -e -in input.txt -out input.b64
</pre>
</div>

<p>
This puts the Base 64-encoded output in a file called input.b64. 
</p>
</div>
</div>

<div id="outline-container-orgca7d128" class="outline-3">
<h3 id="orgca7d128">Encode a simple string</h3>
<div class="outline-text-3" id="text-orgca7d128">
<div class="org-src-container">
<pre class="src src-shell">% echo -n '&amp;a=1&amp;b=2&amp;c=3' | openssl base64 -e
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7328782" class="outline-2">
<h2 id="org7328782">calculating hashes</h2>
<div class="outline-text-2" id="text-org7328782">
</div><div id="outline-container-orgd84804d" class="outline-3">
<h3 id="orgd84804d">md5</h3>
<div class="outline-text-3" id="text-orgd84804d">
<div class="org-src-container">
<pre class="src src-shell">% echo -n "my data" | openssl md5
</pre>
</div>
</div>
</div>

<div id="outline-container-org796f6b7" class="outline-3">
<h3 id="org796f6b7">sha-1</h3>
<div class="outline-text-3" id="text-org796f6b7">
<div class="org-src-container">
<pre class="src src-perl">#/usr/bin/perl
use Digest::SHA1  qw(sha1);
$data   = "my data";
$digest = sha1($data);
print "$digest\n";
</pre>
</div>



<p>
sudo apt-cacher-ng -c <i>etc/apt-cacher-ng</i> Port=3142 ForeGround=1 VerboseLog=1
wget "<a href="http://localhost:3142/acng-report.html?abortOnErrors=aOe&amp;calcSize=cs&amp;doDownload=dd&amp;doMirror=Start+Mirroring#bottom">http://localhost:3142/acng-report.html?abortOnErrors=aOe&amp;calcSize=cs&amp;doDownload=dd&amp;doMirror=Start+Mirroring#bottom</a>"
</p>


<div class="figure">
<p><img src="img/ditaa-simpleboxes.png" alt="ditaa-simpleboxes.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc186d12" class="outline-2">
<h2 id="orgc186d12">unicode</h2>
<div class="outline-text-2" id="text-orgc186d12">
</div><div id="outline-container-org77850ad" class="outline-3">
<h3 id="org77850ad">deocde a utf escaped string</h3>
<div class="outline-text-3" id="text-org77850ad">
<p>
use <code>echo -en</code> 
</p>
<div class="org-src-container">
<pre class="src src-shell">$ echo -en "\u0622\u0642\u0627\u06cc"
</pre>
</div>
<p>
<a href="http://stackoverflow.com/questions/8795702/how-to-convert-uxxxx-unicode-to-utf-8-using-console-tools-in-nix">http://stackoverflow.com/questions/8795702/how-to-convert-uxxxx-unicode-to-utf-8-using-console-tools-in-nix</a>
</p>
</div>
</div>
</div>

<div id="outline-container-orgf68c31d" class="outline-2">
<h2 id="orgf68c31d">wireless</h2>
<div class="outline-text-2" id="text-orgf68c31d">
</div><div id="outline-container-org2b42772" class="outline-3">
<h3 id="org2b42772">concepts</h3>
<div class="outline-text-3" id="text-org2b42772">
</div><div id="outline-container-orgbebc4f0" class="outline-4">
<h4 id="orgbebc4f0">wlan frames</h4>
<div class="outline-text-4" id="text-orgbebc4f0">
<p>
1 <b>Management frames</b>: Management frames are responsible for maintaining
communication between access points and wireless clients. Management frames
can have the following subtypes:
</p>

<ul class="org-ul">
<li>Authentication</li>
<li>Deauthentication</li>
<li>Association request</li>
<li>Association response</li>
<li>Reassociation request</li>
<li>Reassociation response</li>
<li>Disassociation</li>
<li>Beacon</li>
<li>Probe request</li>
<li>Probe response</li>
</ul>
<ol class="org-ol">
<li><b>Control frames</b>: Control frames are responsible for ensuring a proper exchange</li>
</ol>
<p>
of data between access points and wireless clients. Control frames can have the
following subtypes:
</p>

<ul class="org-ul">
<li>Request to Send (RTS)</li>
<li>Clear to Send (CTS)</li>
<li>Acknowledgement (ACK)</li>
</ul>
<ol class="org-ol">
<li><b>Data frames</b>: Data frames carry the actual data that is sent on the wireless network.</li>
</ol>
<p>
There are no subtypes for data frames.
</p>
</div>
</div>

<div id="outline-container-orgca2a942" class="outline-4">
<h4 id="orgca2a942">Shared Key Authentication</h4>
<div class="outline-text-4" id="text-orgca2a942">
<p>
Shared Key Authentication uses a shared secret such as the WEP key to authenticate the
client.
</p>


<div class="figure">
<p><img src="img/shared-authentication.png" alt="shared-authentication.png" />
</p>
</div>

<p>
The security problem here is that an attacker passively listening to this entire communication
by sniffing the air has access to both the plain text challenge and the encrypted challenge. He
can apply the XOR operation to retrieve the keystream. This keystream can be used to encrypt
any future challenge sent by the access point without needing to know the actual key.
</p>

<p>
The most common form of shared authentication is known as WEP or Wired Equivalent
Protocol.
</p>
</div>
</div>
</div>

<div id="outline-container-orgd8f01ef" class="outline-3">
<h3 id="orgd8f01ef">aircrack-ng</h3>
<div class="outline-text-3" id="text-orgd8f01ef">
</div><div id="outline-container-orga83666e" class="outline-4">
<h4 id="orga83666e">put card in monitor mode</h4>
<div class="outline-text-4" id="text-orga83666e">
<div class="org-src-container">
<pre class="src src-shell">$ sudo airmon-ng start &lt;card_name&gt;
# now  you should be able to see mon0 with ifconfig
$ ifconfig mon0              
# stopping monitor mode
$ sudo airmon-ng stop mon0
</pre>
</div>
</div>
</div>

<div id="outline-container-org78fd08f" class="outline-4">
<h4 id="org78fd08f">check for interfering processes</h4>
<div class="outline-text-4" id="text-org78fd08f">
<div class="org-src-container">
<pre class="src src-shell">$ airmon-ng check        # check for interfering processes
$ airmon-ng check kill   # kill them if necessary
</pre>
</div>
</div>
</div>

<div id="outline-container-orge785fae" class="outline-4">
<h4 id="orge785fae">capturing packets</h4>
<div class="outline-text-4" id="text-orge785fae">
<div class="org-src-container">
<pre class="src src-shell">$ airodump-ng mon0 --channel 6
</pre>
</div>
</div>
</div>

<div id="outline-container-org5874cc5" class="outline-4">
<h4 id="org5874cc5">viewing management,control and data frames</h4>
<div class="outline-text-4" id="text-org5874cc5">
<p>
usig wireshark enter <code>wlan.fc.type==0</code> to view management frames.
enter <code>wlan.fc.type==1</code> to view control frames.
enter <code>wlan.fc.type==2</code> to view data frames.
</p>

<p>
To additionaly select a <b>subtype</b> use <code>wlan.fc.subtype</code> filter.
For example to view all the Beacon frame among Manangement Frames,
use <code>(wlan.fc.type == 0) &amp;&amp; (wlan.fc.subtype == 8)</code>.
</p>
</div>
</div>

<div id="outline-container-org8c646c9" class="outline-4">
<h4 id="org8c646c9">sniffing data packets of a network.</h4>
<div class="outline-text-4" id="text-org8c646c9">
<p>
<b>sniffing a specific access point</b>
use <code>airodump-ng --bssid &lt;mac&gt; mon0</code> where &lt;mac&gt;, is the MAC address of 
the access point we are trying to sniff.
</p>

<p>
<b>lock the wireless card on a specific channel</b>
<code>iwconfig mon0 channel 11</code> locks the wirless card on channel 11. In order
to verify it run <code>iwconfig mon0</code>
</p>

<p>
<b>use wireshark to sniff the packets</b>
<code>wlan.bssid==&lt;mac&gt;</code> where &lt;mac&gt; is the mac of the target access point.
</p>
</div>
</div>

<div id="outline-container-org3cc17f5" class="outline-4">
<h4 id="org3cc17f5">bypassing authentication</h4>
<div class="outline-text-4" id="text-org3cc17f5">
</div><div id="outline-container-org1dbf991" class="outline-5">
<h5 id="org1dbf991">finding hidden SSID</h5>
<div class="outline-text-5" id="text-org1dbf991">
<p>
<b>finding &lt;mac&gt; of hidden SSID</b>
find the &lt;mac&gt; of the target with hidden SSID.We will wait for a
legitimate client to connect to the access point with the hidden 
SSID. This will generate a probe request and probe response packets
that will contain the SSID of the network, thus revealing its presence.
</p>

<p>
use <code>wlan.addr == &lt;mac&gt;</code>, where mac is the mac address of the target with
hidden SSID.
</p>

<p>
<b>sending deauthentication packets</b>
Alternately, you can use the aireplay-ng utility to send deauthentication packets
to all stations on behalf of the Wireless Lab access point by typing.
</p>

<div class="org-src-container">
<pre class="src src-shell">$ aireplay-ng -0 5 -a &lt;mac&gt; --ignore-negative mon0
</pre>
</div>

<p>
where &lt;mac&gt; is the MAC address of the router. The <b>-0</b> option is used to choose a
deauthentication attack, and 5 is the number of deauthentication packets to
send.Finally, <b>-a</b> specifies the MAC address of the access point you are
targeting.
</p>

<p>
The preceding deauthentication packets will force all legitimate clients to
disconnect and reconnect.
</p>

<p>
<b>filtering deauthentication in wireshark</b>
You can use the filter
</p>

<p>
<code>(wlan.bssid == 00:21:91:d2:8e:25) &amp;&amp; !(wlan.fc.type_subtype == 0x08)</code>
</p>

<p>
to monitor all non-Beacon packets to and fro from the access point.
</p>

<p>
The &amp;&amp; sign stands for the logical AND operator and the ! sign stands for the
logical NOT operator
</p>
</div>
</div>

<div id="outline-container-org2541c17" class="outline-5">
<h5 id="org2541c17">beating MAC filters</h5>
<div class="outline-text-5" id="text-org2541c17">
<p>
<b>finding connected clients to target</b>
</p>
<div class="org-src-container">
<pre class="src src-shell">$ airodump-ng -c 11 -a --bssid &lt;mac&gt; mon0
</pre>
</div>

<p>
By specifying the <b>bssid</b> command, we will only monitor the access point, which is
of interest to us. The <b>-c 11</b> command sets the channel to 11 where the access
point is. The <b>-a</b> command ensures that, in the client section of the airodump-NG
output, only clients associated and connected to an access point are shown.
</p>

<p>
<b>spoofing MAC address</b>
</p>
<div class="org-src-container">
<pre class="src src-shell">$ ifconfig wlan0 down
$ macchanger -m &lt;mac&gt; wlan0
$ ifconfig wlan0 up
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3ca8b2d" class="outline-4">
<h4 id="org3ca8b2d">decrypting WPA packets</h4>
<div class="outline-text-4" id="text-org3ca8b2d">
<div class="org-src-container">
<pre class="src src-shell"># dumping packets with ariodump
$ airodump-ng –bssid 00:21:91:D2:8E:25 --channel 11 --write WPACrackingDemo mon0

# for decrypting WEP packats
$ airdecap-ng -w abcdefabcdefabcdefabcdef12 WEPCrackingDemo-02.cap

# for decrypting WPA packets
$ airdecap-ng –p abdefg WPACrackingDemo-02.cap –e "Wireless Lab"
</pre>
</div>
</div>
</div>

<div id="outline-container-org26d5023" class="outline-4">
<h4 id="org26d5023">DOS attacks</h4>
</div>
</div>

<div id="outline-container-orge75530c" class="outline-3">
<h3 id="orge75530c">connecting to access point using <code>iwconfig</code></h3>
<div class="outline-text-3" id="text-orge75530c">
<div class="org-src-container">
<pre class="src src-shell">$ iwconfig wlan0 &lt;ESSID&gt;  # ESSID of the target
</pre>
</div>
</div>
</div>

<div id="outline-container-org7f80785" class="outline-3">
<h3 id="org7f80785">viewing available wireless interfaces</h3>
<div class="outline-text-3" id="text-org7f80785">
<div class="org-src-container">
<pre class="src src-shell">$ iwconfig
</pre>
</div>
</div>
</div>

<div id="outline-container-org2453f16" class="outline-3">
<h3 id="org2453f16">scan for Access Points</h3>
<div class="outline-text-3" id="text-org2453f16">
<div class="org-src-container">
<pre class="src src-shell">$ iwcofig wlan0 scan
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3980223" class="outline-2">
<h2 id="org3980223">capturing traffic</h2>
<div class="outline-text-2" id="text-org3980223">
</div><div id="outline-container-org6f4c44b" class="outline-3">
<h3 id="org6f4c44b">concepts</h3>
<div class="outline-text-3" id="text-org6f4c44b">
</div><div id="outline-container-org9428f3e" class="outline-4">
<h4 id="org9428f3e">ARP</h4>
</div>
</div>
<div id="outline-container-orgaf0ace3" class="outline-3">
<h3 id="orgaf0ace3">viewing ARP cache</h3>
<div class="outline-text-3" id="text-orgaf0ace3">
<div class="org-src-container">
<pre class="src src-shell">$ arp -a
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfd0b8fd" class="outline-3">
<h3 id="orgfd0b8fd">ARP cache poisoning</h3>
<div class="outline-text-3" id="text-orgfd0b8fd">
<p>
[ubuntu&#x2013;192.168.20.11] --------&#x2013;&#x2014; [ kali-192.168.20.9] -------------&#x2013;&#x2014; [winxp - 192.168.20.10]
</p>

<div class="org-src-container">
<pre class="src src-shell"># enable IP forwarding
$ echo 1 &gt; /proc/sys/net/ipv4/ip_forward
$ arpspoof -i eth0 -t 192.168.20.11 192.168.20.10
$ arpspoof -i eth0 -t 192.168.20.10 192.168.20.11
</pre>
</div>
</div>
</div>

<div id="outline-container-orgce31b1f" class="outline-3">
<h3 id="orgce31b1f">Using ARP Cache Poisoning to Impersonate the Default Gateway</h3>
<div class="outline-text-3" id="text-orgce31b1f">
<div class="org-src-container">
<pre class="src src-shell">root@kali:~# arpspoof -i eth0 -t 192.168.20.11 192.168.20.1
root@kali:~# arpspoof -i eth0 -t 192.168.20.1 192.168.20.11
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org36e9061" class="outline-2">
<h2 id="org36e9061">limit CPU usage of a process</h2>
<div class="outline-text-2" id="text-org36e9061">
<div class="org-src-container">
<pre class="src src-shell">$ cpulimit -l 50 -p 1234
</pre>
</div>

<p>
Where 1234 is the PID of the process.
</p>
</div>
</div>
<div id="outline-container-orge5e735a" class="outline-2">
<h2 id="orge5e735a">send output from one terminal to another</h2>
<div class="outline-text-2" id="text-orge5e735a">
<div class="org-src-container">
<pre class="src src-shell">$ route &gt; /dev/pts/16
</pre>
</div>
</div>
</div>

<div id="outline-container-org8b40751" class="outline-2">
<h2 id="org8b40751">apache</h2>
<div class="outline-text-2" id="text-org8b40751">
</div><div id="outline-container-org7e46b46" class="outline-3">
<h3 id="org7e46b46">virtual hosts</h3>
<div class="outline-text-3" id="text-org7e46b46">
<p>
The basic unit that describes an individual site or domain is called a
virtual host.
</p>

<p>
These designations allow the administrator to use one server to host
multiple domains or sites off of a single interface or IP by using a
matching mechanism.
</p>
</div>
</div>
<div id="outline-container-orgca98d66" class="outline-3">
<h3 id="orgca98d66"><code>RewriteRule</code></h3>
<div class="outline-text-3" id="text-orgca98d66">
<p>
A RewriteRule consists of three arguments separated by spaces. The arguments are
</p>
<ul class="org-ul">
<li>Pattern: which incoming URLs should be affected by the rule;</li>
<li>Substitution: where should the matching requests be sent;</li>
<li>[flags]: options affecting the rewritten request.</li>
</ul>

<p>
The Substitution can itself be one of three things: 
</p>
<ul class="org-ul">
<li>A full filesystem path to a resource</li>
</ul>
<p>
<code>RewriteRule "^/games" "/usr/local/games/web"</code>
This maps a request to an arbitrary location on your filesystem, much like the Alias directive. 
</p>

<ul class="org-ul">
<li>A web-path to a resource</li>
</ul>
<p>
<code>RewriteRule "^/foo$" "/bar"</code>
</p>

<p>
If DocumentRoot is set to /usr/local/apache2/htdocs, then this directive would
map requests for <a href="http://example.com/foo">http://example.com/foo</a> to the path
/usr/local/apache2/htdocs/bar.
</p>

<ul class="org-ul">
<li>An absolute URL</li>
</ul>
<p>
<code>RewriteRule "^/product/view$" "http://site2.example.com/seeproduct.html" [R]</code>
</p>

<p>
This tells the client to make a new request for the specified URL. 
</p>

<p>
The Substitution can also contain back-references to parts of the incoming URL-path matched by the Pattern. Consider the following:
<code>RewriteRule "^/product/(.*)/view$" "/var/web/productdb/$1"</code>
</p>
</div>
</div>

<div id="outline-container-orgc3774dc" class="outline-3">
<h3 id="orgc3774dc"><code>RewriteCondition</code></h3>
<div class="outline-text-3" id="text-orgc3774dc">
<p>
One or more RewriteCond directives can be used to restrict the types of requests
that will be subject to the following RewriteRule.
</p>

<p>
to send all requests from a particular IP range to a different server, you could
use:
</p>

<pre class="example">
RewriteCond "%{REMOTE_ADDR}" "^10\.2\."
RewriteRule "(.*)" "http://intranet.example.com$1"
</pre>

<p>
When more than one RewriteCond is specified, they must all match for the
RewriteRule to be applied. For example, to deny requests that contain the word
"hack" in their query string, unless they also contain a cookie containing the
word "go", you could use:
</p>

<pre class="example">
RewriteCond "%{QUERY_STRING}" "hack"
RewriteCond "%{HTTP_COOKIE}" "!go"
RewriteRule "." "-" [F]
</pre>

<p>
Notice that the exclamation mark specifies a negative match, so the rule is only
applied if the cookie does not contain "go".
</p>

<p>
Matches in the regular expressions contained in the RewriteConds can be used as
part of the Substitution in the RewriteRule using the variables %1, %2, etc. For
example, this will direct the request to a different directory depending on the
hostname used to access the site:
</p>

<pre class="example">
RewriteCond "%{HTTP_HOST}" "(.*)"
RewriteRule "^/(.*)" "/sites/%1/$1"
</pre>

<p>
If the request was for <a href="http://example.com/foo/bar">http://example.com/foo/bar</a>, then %1 would contain example.com and $1 would contain foo/bar. 
</p>
</div>
</div>

<div id="outline-container-org3e91c02" class="outline-3">
<h3 id="org3e91c02"><code>mod_access</code></h3>
<div class="outline-text-3" id="text-org3e91c02">
<pre class="example">
&lt;Directory "/usr/local/apache2/htdocs"&gt;
    AllowOverride None
    Order allow,deny
    Allow from all
&lt;/Directory&gt;
</pre>

<ul class="org-ul">
<li><b>Deny,Allow</b> The Deny directives are evaluated before the Allow directives.
Access is allowed by default. Any client which does not match a Deny
directive or does match an Allow directive will be allowed access to the
server.</li>

<li><b>Allow,Deny</b> The Allow directives are evaluated before the Deny directives.
Access is denied by default. Any client which does not match an Allow
directive or does match a Deny directive will be denied access to the server.</li>
</ul>

<p>
To block any connection from hosts outside the network 192.168.1.0, you can write:
</p>
<pre class="example">
Order Deny,Allow
Deny from all
Allow from 192.168.1.0/24
</pre>

<p>
To block a particular IP address you can use something like this:
</p>

<pre class="example">
Order Allow, Deny
Allow from all
Deny from bad_ip_address_here
</pre>
</div>
</div>

<div id="outline-container-org7bcd6a8" class="outline-3">
<h3 id="org7bcd6a8"><code>.htaccess</code> for development server</h3>
<div class="outline-text-3" id="text-org7bcd6a8">
<pre class="example">
Order Deny,Allow
Deny from all
Allow from 127.0.0.1
Allow from ::1
</pre>
</div>
</div>

<div id="outline-container-org4036af9" class="outline-3">
<h3 id="org4036af9">hot linking protection</h3>
<div class="outline-text-3" id="text-org4036af9">
<pre class="example">
#Hotlinking Protection
RewriteCond %{HTTP_REFERER} !^$
RewriteCond %{HTTP_REFERER} !^http://(www\.)?subdomain.domain.com/.*$ [NC]
RewriteRule \.(js|css|jpg|gif|png|bmp|mp4|3gp|m4a|m4r|aac|mp3|ogg|wave)$ - [F]
</pre>
</div>
</div>

<div id="outline-container-orgead0666" class="outline-3">
<h3 id="orgead0666">Starting, Stopping, and Restarting Apache</h3>
<div class="outline-text-3" id="text-orgead0666">
<p>
apachectl start
</p>

<p>
This will start the server if it isn't already running. If it is running, this
option has no effect and may produce a warning message.
</p>

<p>
apachectl graceful
</p>

<p>
This option causes the server to reload its configuration files and gracefully
restart its operation. Any current connections in progress are allowed to
complete. The server will be started if it isn't running.
</p>

<p>
apachectl restart
</p>

<p>
Like the graceful option, this one makes the server reload its configuration
files. However, existing connections are terminated immediately. If the server
isn't running, this command will try to start it.
</p>

<p>
apachectl stop
</p>

<p>
This shuts the server down immediately. Any existing connections are terminated at once.
</p>
</div>
</div>
</div>

<div id="outline-container-orge809680" class="outline-2">
<h2 id="orge809680">redis</h2>
<div class="outline-text-2" id="text-orge809680">
</div><div id="outline-container-orgc9a2a17" class="outline-3">
<h3 id="orgc9a2a17">using from command line</h3>
<div class="outline-text-3" id="text-orgc9a2a17">
<pre class="example">
$ redis-cli
127.0.0.1:6379&gt; SET philosopher "socrates"
OK
127.0.0.1:6379&gt; GET philosopher
"socrates"
127.0.0.1:6379&gt;
</pre>
</div>
</div>

<div id="outline-container-org8231f2d" class="outline-3">
<h3 id="org8231f2d">Redis data types</h3>
<div class="outline-text-3" id="text-org8231f2d">
</div><div id="outline-container-org8a62b50" class="outline-4">
<h4 id="org8a62b50">Strings</h4>
<div class="outline-text-4" id="text-org8a62b50">
<p>
The MSET command sets the values of multiple keys at once. The arguments are
key-value pairs separated by spaces.
The MGET command retrieves the values of multiple key names at once, and the
key names are separated by spaces.
</p>

<pre class="example">
$ redis-cli
127.0.0.1:6379&gt; MSET first "First Key value" second "Second Key value"
OK
127.0.0.1:6379&gt; MGET first second
1) "First Key value"
2) "Second Key value"
</pre>
</div>
</div>

<div id="outline-container-orgdd1152d" class="outline-4">
<h4 id="orgdd1152d"><code>EXPIRE</code> command</h4>
<div class="outline-text-4" id="text-orgdd1152d">
<p>
The EXPIRE command adds an expiration time (in seconds) to a given key. After that
time, the key is automatically deleted. It returns 1 if the expiration is set successfully
and 0 if the key does not exist or cannot be set.
The TTL (Time To Live) command returns one of the following:
•	 A positive integer: This is the amount of seconds a given key
has left to live
•	 -2: If the key is expired or does not exist
•	 -1: If the key exists but has no expiration time set
</p>

<pre class="example">
$ redis-cli
127.0.0.1:6379&gt; SET current_chapter "Chapter 1"
OK
127.0.0.1:6379&gt; EXPIRE current_chapter 10
(integer) 1
127.0.0.1:6379&gt; GET current_chapter
"Chapter 1"
127.0.0.1:6379&gt; TTL current_chapter
(integer) 3
127.0.0.1:6379&gt; TTL current_chapter
(integer) -2
127.0.0.1:6379&gt; GET current_chapter
(nil)
127.0.0.1:6379&gt;
</pre>

<p>
The command INCRBYFLOAT increments a key by a given float number and returns
the new value. INCRBY, DECRBY, and INCRBYFLOAT accept either a positive or a
negative number:
</p>

<pre class="example">
$ redis-cli
127.0.0.1:6379&gt; SET counter 100
OK
127.0.0.1:6379&gt; INCR counter
(integer) 101
127.0.0.1:6379&gt; INCRBY counter 5
(integer) 106
127.0.0.1:6379&gt; DECR counter
(integer) 105
127.0.0.1:6379&gt; DECRBY counter 100
(integer) 5
127.0.0.1:6379&gt; GET counter
"5"
127.0.0.1:6379&gt; INCRBYFLOAT counter 2.4
"7.4"
</pre>

<p>
The preceding commands shown are atomic, which means that they increment/
decrement and return the new value as a single operation. It is not possible for two
different clients to execute the same command at the same time and get the same
result—no race conditions happen with those commands.
For example, if the counter key is 1 and two different clients (A and B) increment
their counters at the same time with INCR, client A will receive the value 2 and
client B will receive 3.
</p>
</div>
</div>
</div>

<div id="outline-container-orgf36929b" class="outline-3">
<h3 id="orgf36929b">Hello world using <code>redis</code> and <code>Nodejs</code></h3>
<div class="outline-text-3" id="text-orgf36929b">
<div class="org-src-container">
<pre class="src src-javascript">// install by: $ npm install redis
var redis = require("redis");
var client = redis.createClient();
client.set("my_key", "Hello world using nodejs and redis");
client.get("my_key",redis.print);
client.quit();
</pre>
</div>

<p>
and run with
</p>

<div class="org-src-container">
<pre class="src src-shell">$ node hello.js
</pre>
</div>
</div>
</div>

<div id="outline-container-org61b4092" class="outline-3">
<h3 id="org61b4092">Building a voting system with Strings using Node.js</h3>
<div class="outline-text-3" id="text-org61b4092">
<div class="org-src-container">
<pre class="src src-javascript">var redis =require('redis');

var client = redis.createClient();

function upVote(id){
  var key = "article:" + id + ":votes";
  client.incr(key);
}

function downVote(id){
  var key = "article:" + id + ":votes";
  client.decr(key);
}

function showResults(id) {
  var headlineKey = "article:" + id + ":headline";
  var voteKey = "article:" + id + ":votes";
  client.mget([headlineKey, voteKey], function(err, replies){
    console.log("The article " + replies[0] + " has " + replies[1] + " votes");
  });
}

upVote(12345);
upVote(12345);
upVote(12345);
upVote(10001);
upVote(10001);
downVote(10001);
upVote(60056);

showResults(12345);
showResults(10001);
showResults(60056);

client.quit();
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgc660c13" class="outline-2">
<h2 id="orgc660c13">references</h2>
<div class="outline-text-2" id="text-orgc660c13">
<p>
<a href="http://www.folkstalk.com/2012/02/cut-command-in-unix-linux-examples.html">http://www.folkstalk.com/2012/02/cut-command-in-unix-linux-examples.html</a>
</p>

<p>
<a href="http://unix.stackexchange.com/questions/35369/how-to-cut-by-tab-character">http://unix.stackexchange.com/questions/35369/how-to-cut-by-tab-character</a>
</p>

<p>
<a href="http://unix.stackexchange.com/questions/145978/replace-multiple-spaces-with-one-using-tr-only">http://unix.stackexchange.com/questions/145978/replace-multiple-spaces-with-one-using-tr-only</a>
</p>

<p>
<a href="http://askubuntu.com/questions/499995/change-ip-address-which-is-given-by-tor-using-the-terminal">http://askubuntu.com/questions/499995/change-ip-address-which-is-given-by-tor-using-the-terminal</a>
</p>

<p>
<a href="http://superuser.com/questions/792525/how-to-change-ffmpeg-threads-settings">http://superuser.com/questions/792525/how-to-change-ffmpeg-threads-settings</a>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Mohammad Reza Mansouri</p>
<p class="date">Created: 2017-03-21 Tue 21:00</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
